リポジトリ内のREADMEを確認し、要件を把握した上で、ExpoとTypeScriptを使ったモックプロトタイプアプリの実装に取り掛かります。設計に関しては要件を参考にしつつ、最適な形で構築します。要件と設計の整理ができ次第、ファイル構成と実装の進め方を提示します。

# 日本語学習アプリ・モックプロトタイプ設計

以下では、提供された要件と設計案を踏まえ、Expo（React Native） + TypeScriptで日本語学習アプリのモックプロトタイプを実装するための最適な設計を示します。コア機能の整理から始め、データ設計、プロジェクト構成、UI/UX設計、モックAPI、実装方針・計画について順に説明します。

## 1. コア機能の抽出と主要機能決定

アプリの目的は**インプット学習**（語彙・フレーズ習得）と**アウトプット学習**（発話練習・発音評価）を統合し、効果的な日本語習得を支援することです ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E6%9C%AC%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AF%E3%80%81%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E8%80%85%E3%81%8C%E3%80%8C%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E5%AD%A6%E7%BF%92%EF%BC%88%E5%8D%98%E8%AA%9E%E3%83%BB%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E7%BF%92%E5%BE%97%EF%BC%89%E3%80%8D%E3%81%A8%E3%80%8C%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E5%AD%A6%E7%BF%92%EF%BC%88%E7%99%BA%E8%A9%B1%E7%B7%B4%E7%BF%92%E3%83%BB%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%EF%BC%89%E3%80%8D%E3%82%92%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B9%E8%89%AF%E3%81%8F%E8%A1%8C%E3%81%84%E3%80%81%E5%AE%9F%E8%B7%B5%E7%9A%84%E3%81%AA%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%83%BD%E5%8A%9B%20%E3%82%92%E7%8D%B2%E5%BE%97%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E8%A8%AD%E8%A8%88%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E7%89%B9%E3%81%AB%E3%80%81%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E7%99%BA%E9%9F%B3%E3%82%84%E6%96%87%E8%84%88%E3%81%AB%E5%90%88%E3%81%A3%E3%81%9F%E8%A1%A8%E7%8F%BE%E3%82%92%E8%BA%AB%E3%81%AB%E3%81%A4%E3%81%91%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E9%9F%B3%E5%A3%B0%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E6%A9%9F%E8%83%BD%E3%82%92%E5%BC%B7%E5%8C%96%E3%81%97%E3%80%81%E5%AD%A6%E7%BF%92%E8%80%85%E3%81%8C%E3%82%B9%E3%83%9E%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%B3%E4%B8%8A%E3%81%A7%E3%81%84%E3%81%A4%E3%81%A7%E3%82%82%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%82%92%20%E8%A9%B1%E3%81%99%E7%B7%B4%E7%BF%92%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E4%B8%BB%E7%9C%BC%E3%81%A8%E3%81%97%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82)) この目的に基づき、以下の主要機能を実装します。

- **インプット学習機能**: 日本語の単語・フレーズを学習します。具体的には、漢字かな混じりの日本語テキストにふりがなを付与し、母国語訳（英語など）を表示します。また、ネイティブ音声の再生や例文の提示も行います ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E5%8D%98%E8%AA%9E%E3%83%BB%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E8%A1%A8%E7%A4%BA%20,%E5%8D%98%E8%AA%9E%E3%81%AE%E5%88%86%E6%9B%B8%EF%BC%88%E5%85%AC%E5%9C%92%EF%BC%9Dpark%20%E3%81%AA%E3%81%A9%EF%BC%89%E3%82%92%E4%BD%B5%E8%A8%98)) 例文では文中の単語に対応する訳語も示し、文脈で理解できるようにします ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%7D%20%5D%20%7D%2C))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%7D%20%5D)) 

- **アウトプット学習機能**: マイク入力による発話練習と発音評価を行います。ユーザーがフレーズを音読するとアプリが音声をテキスト化し、正解フレーズと比較して発音のスコアやフィードバックを返します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E7%99%BA%E9%9F%B3%E5%85%A5%E5%8A%9B%E3%83%BB%E8%A9%95%E4%BE%A1%20,%E9%9F%B3%E5%A3%B0%E3%81%AE%E3%81%BF%E6%8F%90%E7%A4%BA%EF%BC%9A%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E8%A1%A8%E7%A4%BA%E3%81%AA%E3%81%97%E3%81%A7%E7%99%BA%E8%A9%B1))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E5%8D%98%E8%AA%9E%E3%83%BB%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88%EF%BC%9A%E4%BE%8B%E6%96%87%E4%B8%AD%E3%81%AE%E5%8D%98%E8%AA%9E%E3%82%92%E4%BB%96%E3%81%AE%E5%8D%98%E8%AA%9E%E3%81%AB%E5%A4%89%E3%81%88%E3%81%A6%E5%BF%9C%E7%94%A8%E7%B7%B4%E7%BF%92)) 練習の形式は多様で、画面上の日本語テキストを見て復唱する基本練習から、一部単語を隠した発話、音声のみ提示して発話、英語文を見て日本語で発話する練習など段階的に用意します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=2.%20%E5%A4%9A%E6%A7%98%E3%81%AA%E5%87%BA%E9%A1%8C%E5%BD%A2%E5%BC%8F%EF%BC%88%E3%82%BF%E3%82%B9%E3%82%AF%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%EF%BC%89%20,%E5%8D%98%E8%AA%9E%E3%83%BB%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88%EF%BC%9A%E4%BE%8B%E6%96%87%E4%B8%AD%E3%81%AE%E5%8D%98%E8%AA%9E%E3%82%92%E4%BB%96%E3%81%AE%E5%8D%98%E8%AA%9E%E3%81%AB%E5%A4%89%E3%81%88%E3%81%A6%E5%BF%9C%E7%94%A8%E7%B7%B4%E7%BF%92))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E5%8D%98%E8%AA%9E%E3%83%BB%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88%EF%BC%9A%E4%BE%8B%E6%96%87%E4%B8%AD%E3%81%AE%E5%8D%98%E8%AA%9E%E3%82%92%E4%BB%96%E3%81%AE%E5%8D%98%E8%AA%9E%E3%81%AB%E5%A4%89%E3%81%88%E3%81%A6%E5%BF%9C%E7%94%A8%E7%B7%B4%E7%BF%92%203.%20%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E7%B7%B4%E7%BF%92%E3%81%AE%E5%86%8D%E5%88%A9%E7%94%A8)) 発音評価結果（「どの音が弱い」等）も簡易表示します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E7%99%BA%E9%9F%B3%E5%85%A5%E5%8A%9B%E3%83%BB%E8%A9%95%E4%BE%A1%20,%E9%9F%B3%E5%A3%B0%E3%81%AE%E3%81%BF%E6%8F%90%E7%A4%BA%EF%BC%9A%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E8%A1%A8%E7%A4%BA%E3%81%AA%E3%81%97%E3%81%A7%E7%99%BA%E8%A9%B1)) 

- **クイズ機能**: 学習内容の定着と振り返りのためのクイズを提供します。四択形式を中心に、フレーズの意味を問う基本クイズや、文脈理解・用法確認の応用クイズなど複数種類があります ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E3%82%AF%E3%82%A4%E3%82%BA%E5%BD%A2%E5%BC%8F%E3%81%AE%E5%A4%9A%E6%A7%98%E5%8C%96%20,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%97%E3%81%9F%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E5%87%BA%E9%A1%8C%203.%20%E3%82%AF%E3%82%A4%E3%82%BA%E7%B5%90%E6%9E%9C%E3%81%AE%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF)) 各レッスンの終了時にまとめクイズを出したり、全フレーズからランダムに出題するスピードクイズモードも用意します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E8%8B%A6%E6%89%8B%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E3%83%94%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%80%81%E7%8B%AC%E8%87%AA%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%20%E2%86%92%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%82%BA%E3%82%92%E8%87%AA%E7%94%B1%E3%81%AB%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E5%86%8D%E5%AD%A6%E7%BF%92))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=2.%20%E5%AE%9F%E6%96%BD%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E6%9F%94%E8%BB%9F%E6%80%A7%20,%E5%AD%A6%E7%BF%92%E5%B1%A5%E6%AD%B4%E3%81%AB%E5%9F%BA%E3%81%A5%E3%81%84%E3%81%A6%E5%BE%A9%E7%BF%92%E3%82%92%E8%87%AA%E5%8B%95%E6%8F%90%E6%A1%88)) 解答後は即座に正誤を表示し、解説や正解フレーズの音声再生、必要に応じて関連例文の再提示などフィードバックを行います ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=3.%20%E3%82%AF%E3%82%A4%E3%82%BA%E7%B5%90%E6%9E%9C%E3%81%AE%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%20,%E5%AD%A6%E7%BF%92%E5%B1%A5%E6%AD%B4%E3%81%AB%E5%9F%BA%E3%81%A5%E3%81%84%E3%81%A6%E5%BE%A9%E7%BF%92%E3%82%92%E8%87%AA%E5%8B%95%E6%8F%90%E6%A1%88)) クイズ結果（スコア）に基づき、ユーザーが復習すべきフレーズを提案する仕組みも設けます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=3.%20%E3%82%AF%E3%82%A4%E3%82%BA%E7%B5%90%E6%9E%9C%E3%81%AE%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%20,%E5%AD%A6%E7%BF%92%E5%B1%A5%E6%AD%B4%E3%81%AB%E5%9F%BA%E3%81%A5%E3%81%84%E3%81%A6%E5%BE%A9%E7%BF%92%E3%82%92%E8%87%AA%E5%8B%95%E6%8F%90%E6%A1%88)) 

- **コンテンツ管理・レッスン機能**: 学習コンテンツはレッスン（テーマ）とその中のフレーズで構成されます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=4)) ユーザーはホーム画面で学習したいレッスンやモード（通常レッスン、スピードクイズ、アウトプット特化練習、オリジナルリストなど）を選択できます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E3%83%9B%E3%83%BC%E3%83%A0%E7%94%BB%E9%9D%A2%20,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) レッスン内では複数のフレーズを順に学習し、進捗状況（完了フラグや達成度）を管理します。ユーザーがお気に入りや苦手フレーズを登録し、自分だけのリストで再学習できる機能も計画します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E8%8B%A6%E6%89%8B%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E3%83%94%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%80%81%E7%8B%AC%E8%87%AA%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%20%E2%86%92%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%82%BA%E3%82%92%E8%87%AA%E7%94%B1%E3%81%AB%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E5%86%8D%E5%AD%A6%E7%BF%92))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1,%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E3%80%8C%E3%81%A9%E3%81%86%E3%81%97%E3%81%A6%E3%82%82%E8%A6%9A%E3%81%88%E3%82%89%E3%82%8C%E3%81%AA%E3%81%84%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%80%8D%E3%82%92%E3%81%8A%E6%B0%97%E3%81%AB%E5%85%A5%E3%82%8A%E3%83%AA%E3%82%B9%E3%83%88%E3%81%B8%E7%99%BB%E9%8C%B2%E3%81%97%E3%80%81%E5%BE%8C%E3%81%A7%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E9%87%8D%E7%82%B9%E7%9A%84%E3%81%AB%E5%AD%A6%E7%BF%92)) ただしプロトタイプ段階では必須ではないため、時間が許せば簡易実装します。

これらの機能により、ユーザーは**語彙インプット→発話アウトプット→クイズ復習**のサイクルを回しながら学習できます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%EF%BC%88Input%EF%BC%89%20,4%EF%BD%9E5%E6%8A%9E%E3%81%AE%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%8B%E3%82%89%E3%80%81%E5%BF%9C%E7%94%A8%E7%9A%84%E3%81%AA%E7%8A%B6%E6%B3%81%E7%90%86%E8%A7%A3%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%BE%E3%81%A7%E5%A4%9A%E5%BD%A9%E3%81%AA%E5%BD%A2%E5%BC%8F))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E3%81%93%E3%81%AE3%E3%82%B9%E3%83%86%E3%83%83%E3%83%97%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97%E3%80%81%E5%AD%A6%E7%BF%92%E8%80%85%E3%81%8C%E5%A4%9A%E8%A7%92%E7%9A%84%E3%81%AB%E6%97%A5%E6%9C%AC%E8%AA%9E%E8%A1%A8%E7%8F%BE%E3%82%92%E5%AE%9A%E7%9D%80%E3%81%A7%E3%81%8D%E3%82%8B%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) モックプロトタイプでは認証機能は不要で、言語設定は日本語/英語のみとします（デモでは英語UIで日本語学習） ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AF%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E3%82%82%E8%87%AA%E7%94%B1%E3%81%AB%E6%B1%BA%E3%82%81%E3%81%A6%E8%89%AF%E3%81%84%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E3%83%87%E3%83%BC%E3%82%BF%E3%81%A7%E3%81%99%E3%81%8C%E3%80%81README%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%ABJSON%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AF%E5%8F%82%E8%80%83%E3%81%A8%E3%81%97%E3%81%A4%E3%81%A4%E3%82%82%E4%B8%8A%E7%B4%9A%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A7%E3%81%82%E3%82%8B%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E7%8A%B6%E6%B3%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%80%81%E9%81%A9%E5%88%87%E3%81%AA%E5%BD%A2%E5%BC%8F%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%97%E3%81%A6%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E4%B8%BB%E8%A6%81%E7%94%BB%E9%9D%A2%E3%81%A8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%81%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%80%81%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AA%E3%81%A9%E3%81%AE%E7%94%BB%E9%9D%A2%E3%81%8C%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%A2%E3%83%83%E3%82%AF%E3%81%AA%E3%81%AE%E3%81%A7%E3%80%81%E8%AA%8D%E8%A8%BC%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82,%E3%83%A2%E3%83%83%E3%82%AF%E6%AE%B5%E9%9A%8E%E3%81%A7%E3%81%AF%E8%A8%80%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%AF%E6%97%A5%E6%9C%AC%E8%AA%9Eor%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%81%BF%E3%81%A8%E3%81%97%E3%80%81%20%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%81%AF%E6%AF%8D%E5%9B%BD%E8%AA%9E%E3%81%8C%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E6%83%B3%E5%AE%9A%E3%81%97%E3%81%A6%E3%80%81%E8%8B%B1%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E3%82%92%E8%A1%8C%E3%81%86%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 

## 2. モックデータ形式の定義と格納設計

バックエンドと通信しないモックアプリでは、**学習コンテンツをローカルのJSONデータとして持たせる**設計とします ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=japanese)) コンテンツは「フレーズ」を最小単位に構造化し、フレーズを束ねてミニレッスン・レッスンを構成します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=4)) JSONスキーマの例を以下に示します。

- **Lesson（レッスン）**: レッスンID、タイトル、説明、所属するMiniLessonやフレーズIDリスト等を持ちます。例: `{ id: "lesson_greetings", title: "あいさつ", description: "...", phrases: ["phrase_ohayou", ...] }` ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9)) レッスンは特定テーマ（例：「基本の挨拶」）に属する複数フレーズをまとめたものです。

- **Phrase（フレーズ）**: 個々の学習フレーズの情報です。日本語テキスト（漢字かな混じり）とその読み（ひらがな or ローマ字）、翻訳（英語など）、音声ファイルパス、例文を持ちます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9)) 例文も日本語と翻訳、音声を含めます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%5B))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%5B)) また、例文中の主要単語とその訳のペアもリストで持たせることで、UI上で単語ごとの意味を表示できます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%7D%20%5D%20%7D%2C))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%7D%20%5D)) フレーズIDをキーとしてレッスンと関連付けます。

- **QuizQuestion（クイズ問事項）**: クイズ出題用のデータモデルです。問題ID、質問文、選択肢リスト、正解のインデックス、種別（意味問題か文脈問題か等）を含みます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9)) クイズはフレーズデータから動的に生成する場合と、あらかじめコンテンツに定義する場合がありますが、モックでは簡易のため必要に応じ生成します。

実際のデータは、上記モデルに沿った**JSONファイル**にまとめ、アプリ内に同梱します。例えば `content.json` に全レッスンと全フレーズの情報を持たせる形です（レッスンごとにフレーズIDの配列で参照） ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=server%20or%20database%20%28japanese,or%20similar%20while%20data%20is)) JSONフォーマットの一例として、READMEに記載のサンプルを参考にします ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%5B)) 全フレーズの配列と、アウトプット練習用テンプレート定義の配列を持つ構造例が示されています ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%7B%20,audio%2Fikimasu.mp3))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,null)) モック段階ではテンプレート定義は固定で十分です）。このようにコンテンツをJSON化して内蔵しておくことで、アプリはオフラインでも動作可能となり、新しいレッスン追加などのコンテンツ更新もJSONを書き換えるだけで容易に行えます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60%E3%81%A7%E3%82%A2%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%A7%E3%81%8D%E3%80%81%E4%BA%8B%E5%89%8D%E3%81%AB%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%93%E3%81%A7%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%A7%E5%86%8D%E7%94%9F%E9%81%85%E5%BB%B6%E3%82%92%E6%B8%9B%E3%82%89%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%20,63%20japanese))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,QuizQuestion)) 

**データの格納**については、Expoプロジェクトの`assets`フォルダ内に`data/`サブフォルダを作り、そこにJSONファイルを配置します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=%E2%94%9C%E2%94%80%E2%94%80%20assets%2F%20%20%20,to%20display%20a%20phrase%20with)) 例えば `assets/data/content.json` のように置き、ビルド時にバンドルします。音声ファイルも `assets/audio/` に配置し、JSON内ではそのパス（例："audio/ohayou.mp3"）を記述します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%7B%20,)) アプリ起動時または必要時にこのJSONを読み込んでメモリに保持し、コンテンツ提供に用います ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=main%20%C2%B7%20FriendlyTech,utils))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=JSON%E6%A7%8B%E9%80%A0%E3%81%AB%E3%81%97%E3%81%A6%E3%81%8A%E3%81%8F%E3%81%93%E3%81%A8%E3%81%A7%E3%80%81%E6%96%B0%E3%81%97%E3%81%84%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%84%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%83%BB%E7%B7%A8%E9%9B%86%E3%81%8C%E5%AE%B9%E6%98%93%E3%81%AB%E3%81%AA%E3%82%8A%E3%80%81%E9%9D%9E%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A7%E3%82%82%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%E3%82%A2%E3%83%97%E3%83%AA%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%20%60contentService%20%60%E3%81%8C%E3%81%93%E3%82%8C%E3%82%89JSON%E3%82%92%E3%83%91%E3%83%BC%E3%82%B9%E3%81%97%E3%81%A6%E3%83%A1%E3%83%A2%E3%83%AA%E3%81%AB%E4%BF%9D%E6%8C%81%E3%81%99%E3%82%8B%E3%81%8B%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%A8%E3%81%8D%E3%81%AB%E9%83%BD%E5%BA%A6%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%80%E6%96%B9%E9%87%9D%E3%81%A8%E3%81%97%E3%81%BE%E3%81%99%EF%BC%88%E3%83%87%E3%83%BC%E3%82%BF%E9%87%8F%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E8%AA%BF%E6%95%B4%EF%BC%89%E3%80%82%20,utils%2F%3A%20%E5%85%B1%E9%80%9A%E5%87%A6%E7%90%86%E3%82%84%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF%E3%82%92%E9%85%8D%E7%BD%AE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AB%E3%81%B5%E3%82%8A%E3%81%8C%E3%81%AA%E3%83%AB%E3%83%93%E3%82%92%E6%8C%AF%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E9%96%A2%E6%95%B0%E3%80%81%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E3%82%89%E9%9F%B3%E5%A3%B0%E3%82%A2%E3%82%BB%E3%83%83%E3%83%88URI%E3%82%92%E7%B5%84%E3%81%BF%E7%AB%8B%E3%81%A6%E3%82%8B%E3%83%98%E3%83%AB%E3%83%91%E3%83%BC%E3%80%81%E3%81%82%E3%82%8B%E3%81%84%E3%81%AF)) 

## 3. Expoプロジェクト構造の設計

モックアプリのプロジェクトディレクトリは、**関心ごとに分離**して整理します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%AF%E9%96%A2%E5%BF%83%E3%81%94%E3%81%A8%E3%81%AB%E6%95%B4%E7%90%86%E3%81%97%E3%80%81%E5%90%84%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E6%98%8E%E7%A2%BA%E3%81%AA%E8%B2%AC%E5%8B%99%E3%82%92%E6%8C%81%E3%81%9F%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%E4%B8%BB%E3%81%AA%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AF%20)) Expoで作成したプロジェクトのルート直下に`App.tsx`（エントリーポイント）や`app.json`等が配置され、その下にソースコード用の`src/`ディレクトリを設けます。主なフォルダ構成の例を以下に示します。

```plaintext
japanese-app/
├── App.tsx                # エントリーポイント（ステータスバー設定やNavigatorの読み込み）
├── app.json               # Expoアプリの設定
├── package.json           # 依存関係定義
├── assets/                # アセット類（画像・音声・JSONデータなど）
│   ├── data/
│   │   └── content.json   # 学習コンテンツ定義のモックデータ(JSON)
│   └── audio/             # フレーズ音声ファイル (例: ohayou.mp3 等)
└── src/                   # アプリのソースコード（TypeScript）
    ├── components/        # 再利用可能なUI部品
    │   ├── PhraseCard.tsx       # フレーズ表示カード（日本語+ふりがな+翻訳+録音UI）
    │   ├── QuizOption.tsx       # クイズの選択肢ボタンコンポーネント
    │   ├── AudioPlayer.tsx      # 音声再生用コンポーネント（Expo AVラップ）
    │   └── MicButton.tsx        # マイク録音ボタン（押下で録音開始/停止）
    ├── screens/           # 画面コンポーネント（各画面に対応）
    │   ├── HomeScreen.tsx        # ホーム画面（レッスン一覧＋モード選択）
    │   ├── LessonScreen.tsx      # レッスン詳細画面（ミニレッスン一覧・進捗）
    │   ├── PracticeScreen.tsx    # フレーズ学習画面（インプット/アウトプットタブ）
    │   ├── QuizScreen.tsx        # クイズ出題画面（問題と選択肢表示）
    │   └── QuizResultScreen.tsx  # クイズ結果画面（スコア・フィードバック）
    ├── navigation/        # ナビゲーション設定
    │   └── AppNavigator.tsx     # React Navigationのスタック/タブ設定と画面遷移定義
    ├── context/           # グローバル状態管理（React Context API）
    │   ├── ProgressContext.tsx  # 学習進捗・設定用のコンテキストとプロバイダ
    │   └── ContentContext.tsx   # 学習コンテンツ提供用コンテキスト（必要に応じて使用）
    ├── services/          # モックAPIサービス層（ビジネスロジック）
    │   ├── contentService.ts    # コンテンツ取得ロジック（ローカルJSON読み込み）
    │   ├── quizService.ts       # クイズ問題生成・採点ロジック
    │   └── speechService.ts     # 発音評価ロジック（音声認識モック）
    ├── types/             # 型定義（TSのinterface/type）
    │   ├── content.types.ts     # Lesson・Phrase・Quizなどコンテンツ関連の型
    │   └── app.types.ts         # アプリ全体で使う汎用型（コンテキストの値構造等）
    └── utils/             # ユーティリティ関数・カスタムフック
        ├── audioUtils.ts        # 音声録音・再生のラッパー（Expo AV利用）
        └── formatUtils.ts       # テキスト整形ヘルパー（ふりがな付与等）
```

この構成により、UI表示ロジックとデータ処理ロジックがフォルダレベルで明確に分離され、見通しの良いプロジェクトになります ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%AF%E9%96%A2%E5%BF%83%E3%81%94%E3%81%A8%E3%81%AB%E6%95%B4%E7%90%86%E3%81%97%E3%80%81%E5%90%84%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E6%98%8E%E7%A2%BA%E3%81%AA%E8%B2%AC%E5%8B%99%E3%82%92%E6%8C%81%E3%81%9F%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%E4%B8%BB%E3%81%AA%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AF%20)) Expo標準の構成（`assets`や`App.tsx`等）は維持しつつ、アプリコードは`src/`以下にまとめています ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=Notes%3A%20Expo%27s%20default%20structure%20,as)) 各フォルダの責務は以下のとおりです。

- **components/**: ボタンやカードなど**再利用可能なUI部品**を集めます。Material Designに沿ったデザインで統一しつつ、学習特有の要素（例えばふりがな付きテキスト表示や録音ボタンなど）は専用コンポーネントとして実装します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,app%20%C2%B7%20GitHub%29%20%E3%81%93%E3%82%8C%E3%82%89%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AF%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A0%E3%81%91%2A%2A%E7%B4%94%E7%B2%8B%EF%BC%88presentational%EF%BC%89%2A%2A%E3%81%AB%E4%BF%9D%E3%81%A1%E3%80%81%E5%8F%97%E3%81%91%E5%8F%96%E3%81%A3%E3%81%9F%E3%83%97%E3%83%AD%E3%83%83%E3%83%97%E3%82%B9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E8%A1%A8%E7%A4%BA%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,app%20%C2%B7%20GitHub)) 可能な限り**プレゼンテーション（見た目）に徹したコンポーネント**とし、必要なデータはプロップス経由で受け取るようにします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,app%20%C2%B7%20GitHub%29%20%E3%81%93%E3%82%8C%E3%82%89%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AF%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A0%E3%81%91%2A%2A%E7%B4%94%E7%B2%8B%EF%BC%88presentational%EF%BC%89%2A%2A%E3%81%AB%E4%BF%9D%E3%81%A1%E3%80%81%E5%8F%97%E3%81%91%E5%8F%96%E3%81%A3%E3%81%9F%E3%83%97%E3%83%AD%E3%83%83%E3%83%97%E3%82%B9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E8%A1%A8%E7%A4%BA%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0)) 例：`PhraseCard`は単語・フレーズの日本語テキストとふりがな・訳を表示し、音声再生ボタンとマイク録音UIを含むカードコンポーネントです ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,app%20%C2%B7%20GitHub)) `QuizOption`はクイズの選択肢ボタンで、選択肢テキストと選択時のコールバックを受け取ります。

- **screens/**: 各画面（ページ）コンポーネントを配置します。スクリーンは内部でcomponentsのパーツを組み合わせてUIを構築し、必要なデータをservicesから取得して表示します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%82%B3%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%84%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E7%8A%B6%E6%85%8B%EF%BC%88%E5%BE%8C%E8%BF%B0%E3%81%AE%20%60state%60%EF%BC%89%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%AA%E5%A0%B4%E5%90%88%E3%81%AF%E3%81%9D%E3%82%8C%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%93%E3%81%A7UI%E3%81%AB%E5%8F%8D%E6%98%A0%E3%81%99%E3%82%8B%E3%80%82)) 主な画面として、ホーム、レッスン詳細、フレーズ学習、クイズ、結果表示があります ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E3%83%9B%E3%83%BC%E3%83%A0%E7%94%BB%E9%9D%A2%20,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) スクリーンではユーザー操作に応じてコンテキスト（グローバル状態）を更新したり、React Navigationを用いて他画面へ遷移します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%82%B3%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%84%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E7%8A%B6%E6%85%8B%EF%BC%88%E5%BE%8C%E8%BF%B0%E3%81%AE%20%60state%60%EF%BC%89%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%AA%E5%A0%B4%E5%90%88%E3%81%AF%E3%81%9D%E3%82%8C%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%93%E3%81%A7UI%E3%81%AB%E5%8F%8D%E6%98%A0%E3%81%99%E3%82%8B%E3%80%82)) 各スクリーンの責務例:
  - **HomeScreen**: レッスン一覧や学習モード一覧を表示します。ユーザーはここで特定のレッスン（例：「挨拶」）やモード（スピードクイズ等）を選択します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20HomeScreen.tsx%3A%20%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E4%B8%80%E8%A6%A7%E3%82%84%E5%AD%A6%E7%BF%92%E3%83%A2%E3%83%BC%E3%83%89%E9%81%B8%E6%8A%9E%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%E3%83%88%E3%83%83%E3%83%97%E7%94%BB%E9%9D%A2%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%8D%E3%80%8C%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%80%8D%E3%81%AA%E3%81%A9%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E9%81%B8%E3%81%B6%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%81%A8%E3%80%81%E5%90%84%20%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%84%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%99%E3%82%8B%E3%81%A8%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B%E7%94%BB%E9%9D%A2%E3%81%AB%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%83%88%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,PracticeScreen.tsx%3A%20%EF%BC%88%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%EF%BC%89%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E7%89%B9%E5%8C%96%E3%83%A2%E3%83%BC%E3%83%89%E7%AD%89%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E7%99%BA%E8%A9%B1%E7%B7%B4%E7%BF%92%E5%B0%82%E7%94%A8%E7%94%BB%E9%9D%A2%E3%80%82%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%9F%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E4%BC%9A%E8%A9%B1%E6%96%87%E3%81%AE%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%E3%82%92%E9%80%A3%E7%B6%9A%E3%81%97%E3%81%A6%E8%A1%8C)) 
  - **LessonScreen**: 選択したレッスン内のフレーズ一覧を表示し、各フレーズに対してインプット情報（意味・例文）とアウトプット練習UIを提供します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=main%20%C2%B7%20FriendlyTech,app%2FREADME.md%20at)) 全フレーズ学習後にクイズ開始ボタンを表示します。
  - **PracticeScreen**: フレーズごとの詳細学習画面です。UI上で「インプット」「アウトプット」のタブを設け、インプットタブでは選択中のフレーズの日本語・ふりがな・訳・例文を表示し、アウトプットタブでは大きな日本語テキストとマイクボタン、発音評価結果表示エリアを配置します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=3.%20%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E5%AD%A6%E7%BF%92%E7%94%BB%E9%9D%A2%EF%BC%88%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%20,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) ユーザーがスワイプや「次へ」ボタンで次のフレーズに進めるようにし、一通り学習したらクイズ画面へ誘導します。
  - **QuizScreen**: クイズ出題画面です。現在のレッスンや選択モードに応じて問題を生成し、選択肢を表示します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%86UI%E3%81%A7%E3%80%81%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E2%86%92%E8%A9%95%E4%BE%A1%E3%81%AE%E3%82%B5%E3%82%A4%E3%82%AF%E3%83%AB%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%20,%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%88%90%E7%B8%BE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%82%E7%85%A7%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) ユーザーの解答選択に応じて正誤判定し、次の問題へ進みます。全問終了後は結果画面へ遷移します。UI上は`FlatList`等で問題を順次表示し、必要に応じて進捗バーやタイマー表示を行います ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%86UI%E3%81%A7%E3%80%81%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E2%86%92%E8%A9%95%E4%BE%A1%E3%81%AE%E3%82%B5%E3%82%A4%E3%82%AF%E3%83%AB%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%20,%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%88%90%E7%B8%BE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%82%E7%85%A7%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 
  - **QuizResultScreen**: クイズ結果を表示します。総合スコア、正答率、所要時間などを表示し、各問題の正解/不正解の簡単なまとめや「復習が必要なフレーズ」の一覧を示します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60%E3%82%92%E7%94%A8%E3%81%84%E3%80%81%E8%A1%A8%E7%A4%BA%E4%B8%8A%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC%E3%82%84%E9%80%B2%E6%8D%97%E3%83%90%E3%83%BC%E3%81%AA%E3%81%A9%E3%82%82%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%99%EF%BC%88%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E3%81%9F%E3%82%81%20%60FlatList%20%60%E3%81%A7%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%97%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%EF%BC%89%E3%80%82%20,%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%88%90%E7%B8%BE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%82%E7%85%A7%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 結果はProgressContextなどに保存し、ホーム画面に戻った際にユーザーの達成度合いに反映します。

- **navigation/**: React Navigationを用いた画面遷移の設定を行います。`AppNavigator.tsx`でスタックナビゲーションやタブナビゲーションを定義します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20navigation%2F,app%20%C2%B7)) 本アプリでは、基本的にスタックナビゲーションを使って画面遷移（ホーム→レッスン→クイズ→結果）を実装します。一方、ホーム画面自体にタブでモードを切り替えるUIを導入することも検討可能です ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E2%86%92%E7%B5%90%E6%9E%9C%E3%82%92state%E6%9B%B4%E6%96%B0%E2%86%92UI%E5%8F%8D%E6%98%A0%E3%80%81%E3%81%A8%E3%81%84%E3%81%86%E4%B8%80%E9%80%A3%E3%81%AE%E6%B5%81%E3%82%8C%E3%82%92%E7%A2%BA%E7%AB%8B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%20,%E3%81%AA%E3%81%A9%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%20%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AE%E4%B8%80%E8%B2%AB%E6%80%A7)) 例えばBottom Tab Navigatorで「ホーム」「スピードクイズ」「発話練習専用」などのタブを用意し、ユーザーがモードを切り替えやすくする案です。ただしモックでは画面数も限られるため、まずシンプルにホーム画面のメニューから各モードへスタック遷移する形で実装します。React Navigation v6を使用し、画面間パラメータやナビゲーションの型も定義して型安全に扱います ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=%E2%94%9C%E2%94%80%E2%94%80%20navigation%2F%20%20%20,completed))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20AppNavigator,API%20simulation%20and%20business%20logic)) 

- **context/**: グローバル状態管理としてReactのContext APIを利用します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF%E7%B5%8C%E7%94%B1%E3%81%A7%E3%81%A9%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%8B%E3%82%89%E3%81%A7%E3%82%82%E7%8F%BE%E5%9C%A8%E3%81%AE%E9%80%B2%E6%8D%97%E3%83%87%E3%83%BC%E3%82%BF%E3%82%84%E6%9B%B4%E6%96%B0%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) `ProgressContext`ではユーザーの学習進捗データ（例：各レッスンの完了状況、累計得点、UIの言語設定）を保持し、提供します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=Reddit%20www,%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF%E7%B5%8C%E7%94%B1%E3%81%A7%E3%81%A9%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%8B%E3%82%89%E3%81%A7%E3%82%82%E7%8F%BE%E5%9C%A8%E3%81%AE%E9%80%B2%E6%8D%97%E3%83%87%E3%83%BC%E3%82%BF%E3%82%84%E6%9B%B4%E6%96%B0%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 各コンポーネントは`useContext(ProgressContext)`もしくはカスタムフック（例：`useProgress()`)を使って進捗を参照・更新できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=Reddit%20www,%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%95%E3%83%83%E3%82%AF%E7%B5%8C%E7%94%B1%E3%81%A7%E3%81%A9%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%8B%E3%82%89%E3%81%A7%E3%82%82%E7%8F%BE%E5%9C%A8%E3%81%AE%E9%80%B2%E6%8D%97%E3%83%87%E3%83%BC%E3%82%BF%E3%82%84%E6%9B%B4%E6%96%B0%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=Context%E3%81%AE%E5%88%9D%E6%9C%9F%E5%80%A4%E3%81%AF%20,%E5%86%85%E3%81%A7%E7%8A%B6%E6%85%8B%E6%9B%B4%E6%96%B0%E9%96%A2%E6%95%B0%E3%82%92%E9%80%9A%E3%81%98%E3%81%A6%E8%A1%8C%E3%81%84%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%89%E7%AB%AF%E6%9C%AB%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B8%EF%BC%88AsyncStorage%E3%81%AA%E3%81%A9%EF%BC%89%E3%81%AB%E3%82%82%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%20%E3%81%86%E3%81%97%E3%81%9F%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E7%8A%B6%E6%85%8B%E7%AE%A1%E7%90%86%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E7%94%BB%E9%9D%A2%E9%96%93%E3%81%A7%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%89%8B%E6%B8%A1%E3%81%99%E7%85%A9%E9%9B%91%E3%81%95%EF%BC%88%E3%83%97%E3%83%AD%E3%83%83%E3%83%97%E3%82%B9%E3%81%AE%E5%BC%95%E3%81%8D%E5%9B%9E%E3%81%97%EF%BC%89%E3%82%92%E8%A7%A3%E6%B6%88%E3%81%97%E3%80%81%E3%81%BE%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%8C%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86%E3%81%95%E3%82%8C%E3%82%8B%E3%81%93%E3%81%A8%E3%81%A7%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%81%AE%E8%A6%8B%E9%80%9A%E3%81%97%E3%82%82%E8%89%AF%E3%81%8F%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%E7%8A%B6%E6%85%8B)) 必要に応じてAsyncStorage等に保存し、アプリ再起動時に読み込む処理も検討します（モックでは省略可）。`ContentContext`は全コンテンツデータをグローバルに持つ場合に使用しますが、小規模アプリでは各画面で必要な分だけ`contentService`から取得すれば足りるため、必須ではありません。Contextはアプリ全体にProviderとして巻くため、`App.tsx`でラップして提供します。

- **services/**: **ビジネスロジック層**として、モックAPIの実装と各種処理を行います。本物のバックエンドの代替として、ここで非同期関数を用意し、アプリ内のJSONデータを読み込んで返すようにします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60services%2F%60%E3%81%AB%E3%81%AF%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%84%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97%E5%87%A6%E7%90%86%E3%82%92%E6%8B%85%E5%BD%93%E3%81%99%E3%82%8B%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%82%92%E9%85%8D%E7%BD%AE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%81%93%E3%81%A7%E3%81%AF%E5%AE%9F%E9%9A%9B%E3%81%AEAPI%E3%81%AE%E4%BB%A3%E3%82%8F%E3%82%8A%E3%81%AB%20%E3%83%A2%E3%83%83%E3%82%AFAPI%20%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%80%81%E9%9D%99%E7%9A%84%E3%81%AA%E3%82%B3%E3%83%B3%E3%83%86%20%E3%83%B3%E3%83%84%E3%83%87%E3%83%BC%E3%82%BF%28JSON%29%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%82%A2%E3%83%97%E3%83%AA%E8%A6%81%E4%BB%B6%E3%81%A7%E3%81%82%E3%82%8B%E3%80%8C%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98API%E3%81%AB%E3%82%88%E3%82%8B%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%E3%80%8D%E3%80%8C%E5%A4%9A%E5%BD%A9%E3%81%AA%E3%82%AF%E3%82%A4%E3%82%BA%E5%BD%A2%E5%BC%8F%E3%80%8D%E3%81%AA%E3%81%A9%E3%81%AE%E6%A9%9F%E8%83%BD%E3%81%AF%E3%80%81%E3%81%93%E3%81%AE%E5%B1%A4%E3%81%A7%E3%83%A2%E3%83%83%E3%82%AF%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,%E5%86%85%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8C%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%EF%BC%88%E7%96%8E%E7%B5%90%E5%90%88%E3%81%AA%E8%A8%AD%E8%A8%88%EF%BC%89%E3%80%82)) UI側（スクリーンやコンポーネント）はこれらサービス関数を呼び出すだけでデータ取得や処理が完結し、将来的に実APIに置き換える際もサービス層の実装を差し替えれば済むようにします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E5%86%85%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8C%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%EF%BC%88%E7%96%8E%E7%B5%90%E5%90%88%E3%81%AA%E8%A8%AD%E8%A8%88%EF%BC%89%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=UI%E5%81%B4%EF%BC%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%84%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%EF%BC%89%E3%81%AF%20)) 主要なサービスモジュール:
  - **contentService.ts**: 学習コンテンツ（レッスン・フレーズ）の提供機能。`assets/data/content.json`からデータを読み込み、レッスン一覧や特定レッスン内のフレーズ配列を返す関数を持ちます（例：`getLessons()`, `getLessonContent(lessonId)`） ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%BE%8C%E3%81%AE%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%A7%E3%81%AF%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E7%AF%84%E5%9B%B2%E3%81%8B%E3%82%89%E5%95%8F%E9%A1%8C%E3%82%92%E5%87%BA%E3%81%97%E3%80%81%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E3%81%AF%E5%85%A8%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8B%E3%82%89%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%20%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28%2067)) JSON上でフレーズを最小単位にもつことで、様々な学習モードでコンテンツを柔軟に再利用できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%BE%8C%E3%81%AE%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%A7%E3%81%AF%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E7%AF%84%E5%9B%B2%E3%81%8B%E3%82%89%E5%95%8F%E9%A1%8C%E3%82%92%E5%87%BA%E3%81%97%E3%80%81%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E3%81%AF%E5%85%A8%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8B%E3%82%89%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%20%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28%2067)) 実装上は`import content from '../../assets/data/content.json'`で静的に読み込んでおき、関数呼び出し時に必要部分を抽出して返します。非同期関数（async/Promise）として定義し、`await getLessons()`で利用できるようにします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E5%B1%A4%E3%81%A7%E3%81%AF%20,Lesson%5B%5D%3E%60%EF%BC%89%E3%82%84%E5%BC%95%E6%95%B0%E5%9E%8B%E3%82%92%E6%98%8E%E7%A4%BA%E3%81%97%E3%80%81UI%E5%81%B4%E3%81%A7%E3%81%AE%E8%AA%A4%E4%BD%BF%E7%94%A8%E3%82%92%E9%98%B2%E3%81%8E%E3%81%BE%E3%81%99%E3%80%82%E3%81%95%E3%82%89%E3%81%AB%E3%80%81%E5%B0%86%E6%9D%A5%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E3%81%A8%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B%E9%9A%9B%E3%81%AF%E3%80%81%E3%81%93%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E5%B1%A4%E3%82%92REST%20API%E3%82%84GraphQL%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%81%AB%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%82%8B%E3%81%A0%E3%81%91%E3%81%A7%E6%B8%88%E3%82%80%E3%82%88%E3%81%86%E3%80%81UI%E3%81%A8%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%81%AE%E5%88%86%E9%9B%A2%20%E3%82%92%E5%BE%B9%E5%BA%95%E3%81%97%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82)) 擬似的に`setTimeout`で数百msの遅延を加え、ローディングUI表示をテストします ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=functions%20simply%20read%20from%20local,which%20is%20a%20good%20practice)) 
  - **quizService.ts**: クイズ問題の生成と採点を担当します。指定したレッスンやモードに応じて問題リストを作成する`generateQuizQuestions(mode, lessonId?)`等の関数を提供します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=FriendlyTech,speechService.ts%3A%20%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%EF%BC%88%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%E3%81%AE%E8%A9%95%E4%BE%A1%E3%82%92%E8%A1%8C%E3%81%86%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%A7%E3%81%99%E3%80%82%E6%9C%AC%E6%9D%A5%E3%81%AF%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%81%AE%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98API%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%80%81%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E7%99%BA%E8%A9%B1%E9%9F%B3%E5%A3%B0%E3%82%92%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%8C%96%E3%83%BB%E8%A7%A3%E6%9E%90%E3%81%97%E3%81%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%A8%E3%81%93%E3%82%8D%E3%81%A7%E3%81%99%E3%81%8C)) 通常レッスンの場合はそのレッスン内のフレーズから出題を作成し、スピードクイズモードでは全フレーズからランダムに問題を生成します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=FriendlyTech,speechService.ts%3A%20%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%EF%BC%88%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%E3%81%AE%E8%A9%95%E4%BE%A1%E3%82%92%E8%A1%8C%E3%81%86%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%A7%E3%81%99%E3%80%82%E6%9C%AC%E6%9D%A5%E3%81%AF%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%81%AE%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98API%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%80%81%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E7%99%BA%E8%A9%B1%E9%9F%B3%E5%A3%B0%E3%82%92%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%8C%96%E3%83%BB%E8%A7%A3%E6%9E%90%E3%81%97%E3%81%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%A8%E3%81%93%E3%82%8D%E3%81%A7%E3%81%99%E3%81%8C)) 選択肢の誤答はコンテンツ内の他のフレーズからピックアップし、なるべく紛らわしい選択肢を構成します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20%60generateQuizQuestions%28mode%2C%20lessonId%3F%29%60%3A%20%E5%BC%95%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8A%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E5%88%A4%E5%AE%9A%E3%81%97%E3%80%81%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%BE%E3%81%99%E3%80%82lessonId%E3%81%8C%E3%81%82%E3%82%8C%E3%81%B0%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%8B%E3%82%89%E5%87%BA%E9%A1%8C%E3%81%97%E3%80%81%E3%81%AA%E3%81%91%E3%82%8C%E3%81%B0%E5%85%A8%E7%AF%84%E5%9B%B2%E3%83%BB%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E6%8C%87%E5%AE%9A%E3%81%AA%E3%81%A9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E5%87%BA%E9%A1%8C%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AE%E8%AA%A4%E7%AD%94%E3%81%AF%E5%90%8C%E3%81%98JSON%E3%83%87%E3%83%BC%E3%82%BF%E5%86%85%E3%81%8B%E3%82%89%E9%A1%9E%E4%BC%BC%E3%81%AE%E6%84%8F%E5%91%B3%E3%82%92%E6%8C%81%E3%81%A4%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%E3%80%8D%E3%81%AE%E8%8B%B1%E8%A8%B3%E3%82%92%E5%95%8F%E3%81%86%E5%95%8F%E9%A1%8C%E3%81%AA%E3%82%89%E3%80%81%E6%AD%A3%E8%A7%A3%E3%80%8CHello%E3%80%8D%E3%81%AB%20%E5%AF%BE%E3%81%97%E3%80%81%E4%BB%96%E3%81%AE%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AF%E3%80%8CGoodbye%E3%80%8D%E3%80%8CThank%20you%E3%80%8D%E3%81%AA%E3%81%A9%E5%88%A5%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%A8%B3%E3%82%92%E6%B5%81%E7%94%A8%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%85%B7%E5%90%88%E3%81%A7%E3%81%99%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AE%E8%AA%A4%E7%AD%94%E3%81%AF%E5%90%8C%E3%81%98JSON%E3%83%87%E3%83%BC%E3%82%BF%E5%86%85%E3%81%8B%E3%82%89%E9%A1%9E%E4%BC%BC%E3%81%AE%E6%84%8F%E5%91%B3%E3%82%92%E6%8C%81%E3%81%A4%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%E3%80%8D%E3%81%AE%E8%8B%B1%E8%A8%B3%E3%82%92%E5%95%8F%E3%81%86%E5%95%8F%E9%A1%8C%E3%81%AA%E3%82%89%E3%80%81%E6%AD%A3%E8%A7%A3%E3%80%8CHello%E3%80%8D%E3%81%AB%20%E5%AF%BE%E3%81%97%E3%80%81%E4%BB%96%E3%81%AE%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AF%E3%80%8CGoodbye%E3%80%8D%E3%80%8CThank%20you%E3%80%8D%E3%81%AA%E3%81%A9%E5%88%A5%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%A8%B3%E3%82%92%E6%B5%81%E7%94%A8%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%85%B7%E5%90%88%E3%81%A7%E3%81%99%E3%80%82)) 回答チェックもこちらで行い、正解数やスコア計算を行います ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,ts%3A%20%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%EF%BC%88%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%E3%81%AE%E8%A9%95%E4%BE%A1%E3%82%92%E8%A1%8C%E3%81%86%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%A7%E3%81%99%E3%80%82%E6%9C%AC%E6%9D%A5%E3%81%AF%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%81%AE%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98API%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%80%81%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E7%99%BA%E8%A9%B1%E9%9F%B3%E5%A3%B0%E3%82%92%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%8C%96%E3%83%BB%E8%A7%A3%E6%9E%90%E3%81%97%E3%81%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%A8%E3%81%93%E3%82%8D%E3%81%A7%E3%81%99%E3%81%8C%20%28%2068))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28japanese,%E3%81%AB%E6%B8%A1%E3%81%97%E3%81%A6%E6%AD%A3%E8%AA%A4%E5%88%A4%E5%AE%9A%E3%83%BB%E3%82%B9%E3%82%B3%E3%82%A2%E8%A8%88%E7%AE%97%E3%82%92%E3%81%97%E3%81%A6%E3%82%82%E3%82%89%E3%81%84%E3%81%BE%E3%81%99%E3%80%82)) UI側（QuizScreen）は問題文と選択肢を受け取って表示し、ユーザーが答えを選んだら`quizService.checkAnswer(questionId, chosenIndex)`のような関数で正誤判定・次の問題取得をするイメージです。全問終了後、結果データをProgressContextに保存します。
  - **speechService.ts**: 発話音声の認識・評価を行うサービスです。本来はGoogle Cloud Speech-to-TextやAzure Cognitive Services等を呼び出して発音評価するところですが ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%2A%20%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98%E3%83%BB%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%EF%BC%9A%20Google%20Cloud%20Speech,Azure%20Cognitive%20Services%E3%80%81Amazon%20Transcribe%E3%81%AA%E3%81%A9%E3%81%AE%E5%88%A9%E7%94%A8%E3%82%92%E6%83%B3%E5%AE%9A%E3%80%82%20API%E3%81%8B%E3%82%89%E5%8F%97%E3%81%91%E5%8F%96%E3%81%A3%E3%81%9F%E6%96%87%E5%AD%97%E8%B5%B7%E3%81%93%E3%81%97%E7%B5%90%E6%9E%9C%E3%81%A8%E6%AD%A3%E8%A7%A3%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%AF%94%E8%BC%83%E3%81%97%E3%80%81%E3%82%A4%E3%83%B3%E3%83%88%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A9%95%E4%BE%A1%E3%82%84%E9%A1%9E%E4%BC%BC%E5%BA%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E7%AE%97%E5%87%BA%E3%80%82)) モックでは**擬似的なスコアを即座に返す**実装にします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60quizService%20%60%E3%81%AB%E6%B8%A1%E3%81%97%E3%81%A6%E6%AD%A3%E8%AA%A4%E5%88%A4%E5%AE%9A%E3%83%BB%E3%82%B9%E3%82%B3%E3%82%A2%E8%A8%88%E7%AE%97%E3%82%92%E3%81%97%E3%81%A6%E3%82%82%E3%82%89%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%20,%E9%96%A2%20%E6%95%B0%E3%81%A7%E6%93%AC%E4%BC%BC%E7%9A%84%E3%81%AB%E7%99%BA%E9%9F%B3%E3%81%AE%E4%B8%80%E8%87%B4%E7%8E%87%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%97%E3%80%81%E5%B8%B8%E3%81%AB80%E7%82%B9%E7%A8%8B%E5%BA%A6%E3%81%AE%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%8B%E3%80%81%E3%81%82%E3%82%8B%E3%81%84%E3%81%AF%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%94%E3%81%A8%E3%81%AB%E7%94%A8%E6%84%8F%E3%81%97%E3%81%9F%E6%A8%A1%E6%93%AC%E7%B5%90%E6%9E%9C%E3%82%92%E8%BF%94%E3%81%99%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E7%B0%A1%E6%98%93%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%EF%BC%88%E3%80%8C%E3%80%87%E3%80%87%E3%81%AE%E7%99%BA%E9%9F%B3%20%E3%81%8C%E5%BC%B1%E3%81%84%E3%80%8D%E3%81%AA%E3%81%A9%EF%BC%89%E3%82%82%E3%83%80%E3%83%9F%E3%83%BC%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%94%E3%81%97%E3%80%81UI%E5%81%B4%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AB%E7%B9%8B%E3%81%8C%E3%81%9A%E3%81%A8%E3%82%82%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%E3%81%AE%E6%B5%81%E3%82%8C%E3%82%92%E3%82%A2%E3%83%97%E3%83%AA%E4%B8%8A%E4%BD%93%E9%A8%93%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 例えば`evaluatePronunciation(phraseId, audioClip)`を呼ぶと、常に80点程度のスコアと固定メッセージを返すか、ランダムで「良い発音」「もう一息」のようなフィードバック文字列を返します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60quizService%20%60%E3%81%AB%E6%B8%A1%E3%81%97%E3%81%A6%E6%AD%A3%E8%AA%A4%E5%88%A4%E5%AE%9A%E3%83%BB%E3%82%B9%E3%82%B3%E3%82%A2%E8%A8%88%E7%AE%97%E3%82%92%E3%81%97%E3%81%A6%E3%82%82%E3%82%89%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%20,%E9%96%A2%20%E6%95%B0%E3%81%A7%E6%93%AC%E4%BC%BC%E7%9A%84%E3%81%AB%E7%99%BA%E9%9F%B3%E3%81%AE%E4%B8%80%E8%87%B4%E7%8E%87%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%97%E3%80%81%E5%B8%B8%E3%81%AB80%E7%82%B9%E7%A8%8B%E5%BA%A6%E3%81%AE%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%8B%E3%80%81%E3%81%82%E3%82%8B%E3%81%84%E3%81%AF%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%94%E3%81%A8%E3%81%AB%E7%94%A8%E6%84%8F%E3%81%97%E3%81%9F%E6%A8%A1%E6%93%AC%E7%B5%90%E6%9E%9C%E3%82%92%E8%BF%94%E3%81%99%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E7%B0%A1%E6%98%93%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%EF%BC%88%E3%80%8C%E3%80%87%E3%80%87%E3%81%AE%E7%99%BA%E9%9F%B3%20%E3%81%8C%E5%BC%B1%E3%81%84%E3%80%8D%E3%81%AA%E3%81%A9%EF%BC%89%E3%82%82%E3%83%80%E3%83%9F%E3%83%BC%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%94%E3%81%97%E3%80%81UI%E5%81%B4%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AB%E7%B9%8B%E3%81%8C%E3%81%9A%E3%81%A8%E3%82%82%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%E3%81%AE%E6%B5%81%E3%82%8C%E3%82%92%E3%82%A2%E3%83%97%E3%83%AA%E4%B8%8A%E4%BD%93%E9%A8%93%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=,time%20pronunciation%20evaluation)) ユーザー体験向上のため、実際にはマイク録音後1～2秒の処理時間を設け（録音中のアニメーション表示など）た後に結果を表示します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=API%20calls.%20So%2C%20,we%20can))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=,time%20pronunciation%20evaluation)) これにより「話した→評価が出た」という一連の流れを疑似的に体験できます。録音と再生自体はExpoの`Audio` API（expo-av）を使用し、マイクボタン押下で録音開始・停止、録音データは実際には送信せず捨てるかローカルで保持するだけにします。処理結果として返すデータの型は `{ score: number, feedback: string }` 等とし、画面側でスコアバーやメッセージを表示できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%86%85%E3%81%AE%E5%85%A8%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E8%A9%B3%E7%B4%B0%E3%82%92%E8%BF%94%E3%81%99%E3%80%82%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%89%E3%81%93%E3%81%93%E3%81%A7%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%94%E3%81%A8%E3%81%AE%E9%9F%B3%E5%A3%B0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BA%8B%E5%89%8D%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E5%87%A6%E7%90%86%E3%82%82%E6%8C%9F%E3%81%BF%E3%81%BE%E3%81%99%E3%80%82%20,%E5%BC%95%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8A%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E5%88%A4%E5%AE%9A%E3%81%97%E3%80%81%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%BE%E3%81%99%E3%80%82lessonId%E3%81%8C%E3%81%82%E3%82%8C%E3%81%B0%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%8B%E3%82%89%E5%87%BA%E9%A1%8C%E3%81%97%E3%80%81%E3%81%AA%E3%81%91%E3%82%8C%E3%81%B0%E5%85%A8%E7%AF%84%E5%9B%B2%E3%83%BB%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E6%8C%87%E5%AE%9A%E3%81%AA%E3%81%A9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E5%87%BA%E9%A1%8C%E3%81%97%E3%81%BE%E3%81%99%20%28%2064))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E7%B5%90%E6%9E%9C%E3%82%92%E8%BF%94%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8BPhrase%E3%81%AB%E6%9C%9F%E5%BE%85%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8C%E3%81%82%E3%82%8B%E3%81%A8%E3%81%97%E3%81%A6%E3%80%81recordedAudio%E3%81%AF%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%81%AF%E4%BD%BF%E3%82%8F%E3%81%9A%E3%80%81%E5%B8%B8%E3%81%AB%E3%80%8C80%E7%82%B9%E3%83%BBGood%E3%80%8D%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%9B%BA%E5%AE%9A%E8%A9%95%E4%BE%A1%20%E3%82%92%E8%BF%94%E3%81%99%E3%81%8B%E3%80%81%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%A7%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B%E5%AE%9F%E8%A3%85%E3%81%A7%E3%81%99%20%28japanese,%E3%81%AA%E3%81%A9%E3%81%A8%E3%81%97%E3%80%81UI%E3%81%A7%E3%82%B9%E3%82%B3%E3%82%A2%E8%A1%A8%E7%A4%BA%E3%82%84%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E8%A1%A8%E7%A4%BA%E3%81%AB%E4%BD%BF%E3%81%84%E3%81%BE%E3%81%99%E3%80%82)) 

  これらサービス関数はいずれも**Promiseベースの非同期関数**として実装し、本物のAPIと同じインターフェースになるよう心がけます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E3%81%AF%20%E9%9D%9E%E5%90%8C%E6%9C%9F%E9%96%A2%E6%95%B0%20%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%80%81%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E3%81%A8%E5%90%8C%E3%81%98%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E3%82%92%E6%A8%A1%E5%80%A3%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%20,setTimeout%28res%2C%20500%29%29%3B%60%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BA%BA%E5%B7%A5%E7%9A%84%E3%81%AA%E9%81%85%E5%BB%B6%E3%82%92%E5%8A%A0%E3%81%88%E3%81%A6%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E8%BF%94%E3%81%99%E3%81%93%E3%81%A8%E3%82%82%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) 例えば`getLessons()`は`Promise<Lesson[]>`を返すよう定義し、UI側では`await getLessons()`で利用します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E3%81%AF%20%E9%9D%9E%E5%90%8C%E6%9C%9F%E9%96%A2%E6%95%B0%20%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%80%81%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E3%81%A8%E5%90%8C%E3%81%98%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E3%82%92%E6%A8%A1%E5%80%A3%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%20,setTimeout%28res%2C%20500%29%29%3B%60%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BA%BA%E5%B7%A5%E7%9A%84%E3%81%AA%E9%81%85%E5%BB%B6%E3%82%92%E5%8A%A0%E3%81%88%E3%81%A6%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E8%BF%94%E3%81%99%E3%81%93%E3%81%A8%E3%82%82%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) 将来的にAPI接続する際は、サービス内部で`fetch`やSDKを呼ぶ処理に差し替えるだけで済み、UI側のコードは変更不要となります ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E5%86%85%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8C%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%EF%BC%88%E7%96%8E%E7%B5%90%E5%90%88%E3%81%AA%E8%A8%AD%E8%A8%88%EF%BC%89%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=UI%E5%81%B4%EF%BC%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%84%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%EF%BC%89%E3%81%AF%20)) モック実装においても複雑なロジックは避け、決め打ちやランダム生成で簡潔にします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E8%A8%AD%E8%A8%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E9%87%8D%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%AF%E3%80%81%E5%AE%9F%E9%9A%9B%E3%81%AEAPI%E3%81%A8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E4%BA%92%E6%8F%9B%E6%80%A7%20%E3%81%A8%20%E7%B0%A1%E6%BD%94%E3%81%AA%E3%82%B9%E3%82%BF%E3%83%96%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%20%E3%81%A7%E3%81%99%E3%80%82%E5%89%8D%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E5%BE%8C%E3%81%A7%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E5%AE%9F%E8%A3%85%E3%81%AB%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%82%8B%E9%9A%9B%E3%82%82UI%20%E5%81%B4%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E5%A4%89%E6%9B%B4%E3%82%92%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82%E5%BE%8C%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E8%A4%87%E9%9B%91%E3%81%AA%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E9%81%BF%E3%81%91%E3%81%A6%E9%96%8B%E7%99%BA%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%92%E4%B8%8A%E3%81%92%E3%81%A4%E3%81%A4%E3%80%81%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E6%B5%81%E3%82%8C%E5%85%A8%E4%BD%93%E3%82%92%E6%A4%9C%E8%A8%BC%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) これにより**開発スピードを優先**しつつ、アプリ全体の流れを検証できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E8%A8%AD%E8%A8%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E9%87%8D%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%AF%E3%80%81%E5%AE%9F%E9%9A%9B%E3%81%AEAPI%E3%81%A8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E4%BA%92%E6%8F%9B%E6%80%A7%20%E3%81%A8%20%E7%B0%A1%E6%BD%94%E3%81%AA%E3%82%B9%E3%82%BF%E3%83%96%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%20%E3%81%A7%E3%81%99%E3%80%82%E5%89%8D%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E5%BE%8C%E3%81%A7%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E5%AE%9F%E8%A3%85%E3%81%AB%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%82%8B%E9%9A%9B%E3%82%82UI%20%E5%81%B4%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E5%A4%89%E6%9B%B4%E3%82%92%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82%E5%BE%8C%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E8%A4%87%E9%9B%91%E3%81%AA%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E9%81%BF%E3%81%91%E3%81%A6%E9%96%8B%E7%99%BA%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%92%E4%B8%8A%E3%81%92%E3%81%A4%E3%81%A4%E3%80%81%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E6%B5%81%E3%82%8C%E5%85%A8%E4%BD%93%E3%82%92%E6%A4%9C%E8%A8%BC%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) 

- **types/**: アプリ内で使用するデータ型定義を集約します。TypeScriptのインターフェースや型エイリアスを事前に定義しておくことで、サービス層とUI層でデータ構造の不整合を防ぎます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60contentService%20%60%E3%81%8C%E3%81%93%E3%82%8C%E3%82%89JSON%E3%82%92%E3%83%91%E3%83%BC%E3%82%B9%E3%81%97%E3%81%A6%E3%83%A1%E3%83%A2%E3%83%AA%E3%81%AB%E4%BF%9D%E6%8C%81%E3%81%99%E3%82%8B%E3%81%8B%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%A8%E3%81%8D%E3%81%AB%E9%83%BD%E5%BA%A6%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%80%E6%96%B9%E9%87%9D%E3%81%A8%E3%81%97%E3%81%BE%E3%81%99%EF%BC%88%E3%83%87%E3%83%BC%E3%82%BF%E9%87%8F%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E8%AA%BF%E6%95%B4%EF%BC%89%E3%80%82%20,API%E3%82%92%E3%83%A9%E3%83%83%E3%83%97%E3%81%97%E5%86%8D%E7%94%9F%2F%E9%8C%B2%E9%9F%B3%E3%82%92%E7%B0%A1%E6%BD%94%E3%81%AB%E8%A1%8C%E3%81%86%EF%BC%89%E3%81%AA%E3%81%A9%E3%81%A7%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AF%E7%B4%94%E7%B2%8B%E9%96%A2%E6%95%B0%E3%82%84%E6%B1%8E%E7%94%A8%E7%9A%84%E3%81%AA%E3%83%95%E3%83%83%E3%82%AF%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,API%E3%82%92%E3%83%A9%E3%83%83%E3%83%97%E3%81%97%E5%86%8D%E7%94%9F%2F%E9%8C%B2%E9%9F%B3%E3%82%92%E7%B0%A1%E6%BD%94%E3%81%AB%E8%A1%8C%E3%81%86%EF%BC%89%E3%81%AA%E3%81%A9%E3%81%A7%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AF%E7%B4%94%E7%B2%8B%E9%96%A2%E6%95%B0%E3%82%84%E6%B1%8E%E7%94%A8%E7%9A%84%E3%81%AA%E3%83%95%E3%83%83%E3%82%AF%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%20%E3%80%81%E5%89%AF%E4%BD%9C%E7%94%A8%E3%82%92%E6%8C%81%E3%81%9F%E3%81%AA%E3%81%84%E3%81%8B%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A8%E3%81%A9%E3%82%81%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E5%AE%B9%E6%98%93%E3%81%A7%E3%80%81%E4%BB%96%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E6%B5%81%E7%94%A8%E3%82%82%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82)) たとえば`Lesson`型や`Phrase`型、`QuizQuestion`型を定義し、各サービス関数の戻り値にもその型を適用します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,JS%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%EF%BC%88%E4%BE%8B%3A%20Styled%20Components%EF%BC%89%E3%82%92%E7%94%A8%E3%81%84%E3%81%A6%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%83%86%E3%83%BC%E3%83%9E%E3%82%84%E3%82%AB%E3%83%A9%E3%83%BC%E3%83%91%E3%83%AC%E3%83%83%E3%83%88%E3%81%AF%E5%85%B1%E9%80%9A%E3%81%AE%E5%AE%9A%E6%95%B0%E3%81%A8%E3%81%97%E3%81%A6%E7%AE%A1%E7%90%86%E3%81%97%E3%80%81%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E5%AF%BE%E5%BF%9C%E3%82%84%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%EF%BC%88%E7%BF%BB%E8%A8%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E5%A4%96))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%82%A8%E3%83%A9%E3%83%BC%EF%BC%9D%E3%83%90%E3%82%B0%E3%81%AE%E8%8A%BD%E3%81%A8%E3%81%97%E3%81%A6%E6%97%A9%E6%9C%9F%E3%81%AB%E7%99%BA%E8%A6%8B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%20,JS%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%EF%BC%88%E4%BE%8B%3A%20Styled%20Components%EF%BC%89%E3%82%92%E7%94%A8%E3%81%84%E3%81%A6%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%83%86%E3%83%BC%E3%83%9E%E3%82%84%E3%82%AB%E3%83%A9%E3%83%BC%E3%83%91%E3%83%AC%E3%83%83%E3%83%88%E3%81%AF%E5%85%B1%E9%80%9A%E3%81%AE%E5%AE%9A%E6%95%B0%E3%81%A8%E3%81%97%E3%81%A6%E7%AE%A1%E7%90%86%E3%81%97%E3%80%81%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E5%AF%BE%E5%BF%9C%E3%82%84%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%EF%BC%88%E7%BF%BB%E8%A8%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E5%A4%96%20%E9%83%A8%E5%8C%96%EF%BC%89%E3%82%82%E8%A6%8B%E6%8D%AE%E3%81%88%E3%81%BE%E3%81%99%E3%80%82%E7%89%B9%E3%81%AB%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AF%E7%BF%BB%E8%A8%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%EF%BC%88%E4%BE%8B%E3%81%88%E3%81%B0%20%60translations%2Fen.json)) これによりIDEで補完が効き、開発効率とコードの安全性が向上します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,JS%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%EF%BC%88%E4%BE%8B%3A%20Styled%20Components%EF%BC%89%E3%82%92%E7%94%A8%E3%81%84%E3%81%A6%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%83%86%E3%83%BC%E3%83%9E%E3%82%84%E3%82%AB%E3%83%A9%E3%83%BC%E3%83%91%E3%83%AC%E3%83%83%E3%83%88%E3%81%AF%E5%85%B1%E9%80%9A%E3%81%AE%E5%AE%9A%E6%95%B0%E3%81%A8%E3%81%97%E3%81%A6%E7%AE%A1%E7%90%86%E3%81%97%E3%80%81%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E5%AF%BE%E5%BF%9C%E3%82%84%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%EF%BC%88%E7%BF%BB%E8%A8%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E5%A4%96)) 

- **utils/**: 共通のヘルパー関数やカスタムフックを配置します。例として、ふりがな付きテキストを表示するための文字列処理（漢字とかなのマッピング）関数、音声ファイル名からExpo AVの再生オブジェクトを作る関数、録音・再生を簡単に行うための`useAudio`フックなどです ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E2%94%82%20%20%20%E2%94%82%20,%E3%81%B5%E3%82%8A%E3%81%8C%E3%81%AA%E4%BB%98%E3%81%8D%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E8%A1%A8%E7%A4%BA%E6%95%B4%E5%BD%A2%E9%96%A2%E6%95%B0))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,API%E3%82%92%E3%83%A9%E3%83%83%E3%83%97%E3%81%97%E5%86%8D%E7%94%9F%2F%E9%8C%B2%E9%9F%B3%E3%82%92%E7%B0%A1%E6%BD%94%E3%81%AB%E8%A1%8C%E3%81%86%EF%BC%89%E3%81%AA%E3%81%A9%E3%81%A7%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AF%E7%B4%94%E7%B2%8B%E9%96%A2%E6%95%B0%E3%82%84%E6%B1%8E%E7%94%A8%E7%9A%84%E3%81%AA%E3%83%95%E3%83%83%E3%82%AF%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%20%E3%80%81%E5%89%AF%E4%BD%9C%E7%94%A8%E3%82%92%E6%8C%81%E3%81%9F%E3%81%AA%E3%81%84%E3%81%8B%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A8%E3%81%A9%E3%82%81%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E5%AE%B9%E6%98%93%E3%81%A7%E3%80%81%E4%BB%96%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E6%B5%81%E7%94%A8%E3%82%82%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82)) これらは副作用の少ない純粋関数として実装し、必要に応じて単体テストも行いやすくします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,API%E3%82%92%E3%83%A9%E3%83%83%E3%83%97%E3%81%97%E5%86%8D%E7%94%9F%2F%E9%8C%B2%E9%9F%B3%E3%82%92%E7%B0%A1%E6%BD%94%E3%81%AB%E8%A1%8C%E3%81%86%EF%BC%89%E3%81%AA%E3%81%A9%E3%81%A7%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AF%E7%B4%94%E7%B2%8B%E9%96%A2%E6%95%B0%E3%82%84%E6%B1%8E%E7%94%A8%E7%9A%84%E3%81%AA%E3%83%95%E3%83%83%E3%82%AF%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%20%E3%80%81%E5%89%AF%E4%BD%9C%E7%94%A8%E3%82%92%E6%8C%81%E3%81%9F%E3%81%AA%E3%81%84%E3%81%8B%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A8%E3%81%A9%E3%82%81%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E5%AE%B9%E6%98%93%E3%81%A7%E3%80%81%E4%BB%96%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E6%B5%81%E7%94%A8%E3%82%82%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82)) 

以上のようにフォルダを分けることで、**関心ごとの分離**が徹底され保守性が高まります。UIコードとビジネスロジックの依存関係が疎になるため、デザイン変更や機能追加の際も影響範囲を局所化できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E5%86%85%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8C%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%EF%BC%88%E7%96%8E%E7%B5%90%E5%90%88%E3%81%AA%E8%A8%AD%E8%A8%88%EF%BC%89%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=UI%E5%81%B4%EF%BC%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%84%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%EF%BC%89%E3%81%AF%20)) この構造はReact Native/Expo開発のベストプラクティスにも沿っており、他の開発者も理解しやすい形です ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%99%E3%80%82))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,React%20Native%20%2F%20Expo%20Starter)) 

## 4. UIコンポーネントとナビゲーション設計

**UIデザイン**は一貫してマテリアルデザインを採用し、Expo/React Native上で整えます。基本的なボタンやカード等には[React Native Paper](https://github.com/callstack/react-native-paper)などのUIライブラリを用いて開発効率を上げます ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=3)) 特にPaperのAppbarやButton、Cardコンポーネント等を活用し、ネイティブらしい見た目と操作感を実現します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=3)) 必要に応じてスタイルをカスタマイズし、日本語学習特有の表示にも対応させます。全体のテーマや配色はMaterial Designライトテーマをベースに設定し（ダークモードは実装不要 ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E8%A8%AD%E8%A8%88%E3%81%AF%E8%A9%B3%E7%B4%B0%E3%81%AA%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E8%A8%AD%E8%A8%88%E3%81%A8%E3%80%81%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%BD%B9%E5%89%B2%E3%82%84%E8%B2%AC%E4%BB%BB%E3%81%A8%E5%AE%9F%E8%A3%85%E6%96%B9%E9%87%9D%E3%82%92%E6%98%8E%E8%A8%98%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AF%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E8%87%AA%E7%94%B1%E3%81%AB%E6%B1%BA%E3%82%81%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%20%E3%83%9E%E3%83%86%E3%83%AA%E3%82%A2%E3%83%AB%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%A7%E3%80%81%E3%81%9F%20%E3%81%A0%E3%81%97%E3%80%81%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E5%AD%A6%E7%BF%92%E3%81%AB%E9%81%A9%E3%81%97%E3%81%9FUIUX%EF%BC%88%E6%BC%A2%E5%AD%97%E3%81%AB%E3%81%AF%E3%81%B5%E3%82%8A%E3%81%8C%E3%81%AA%E3%80%81%E6%A7%8B%E6%96%87%E3%82%92%E5%88%86%E3%81%A1%E6%9B%B8%E3%81%8D%E3%81%97%E3%81%A6%E3%82%BB%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%94%E3%81%A8%E3%81%AB%E8%89%B2%E4%BB%98%E3%81%91%E3%80%81%E7%99%BA%E9%9F%B3%E3%82%92%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E8%A1%A8%E8%A8%98%E3%81%99%E3%82%8B%E3%81%AA%E3%81%A9%EF%BC%89%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AF%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82,%E3%83%A2%E3%83%83%E3%82%AF%E3%83%87%E3%83%BC%E3%82%BF%E3%81%A7%E3%81%99%E3%81%8C%E3%80%81README%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%ABJSON%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AF%E5%8F%82%E8%80%83%E3%81%A8%E3%81%97%E3%81%A4%E3%81%A4%E3%82%82%E4%B8%8A%E7%B4%9A%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A7%E3%81%82%E3%82%8B%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E7%8A%B6%E6%B3%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%80%81%E9%81%A9%E5%88%87%E3%81%AA%E5%BD%A2%E5%BC%8F%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%97%E3%81%A6%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E4%B8%BB%E8%A6%81%E7%94%BB%E9%9D%A2%E3%81%A8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%81%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%80%81%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AA%E3%81%A9%E3%81%AE%E7%94%BB%E9%9D%A2%E3%81%8C%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%A2%E3%83%83%E3%82%AF%E3%81%AA%E3%81%AE%E3%81%A7%E3%80%81%E8%AA%8D%E8%A8%BC%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E6%AE%B5%E9%9A%8E%E3%81%A7%E3%81%AF%E8%A8%80%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%AF%E6%97%A5%E6%9C%AC%E8%AA%9Eor%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%81%BF%E3%81%A8%E3%81%97%E3%80%81%20%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%81%AF%E6%AF%8D%E5%9B%BD%E8%AA%9E%E3%81%8C%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E6%83%B3%E5%AE%9A%E3%81%97%E3%81%A6%E3%80%81%E8%8B%B1%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E3%82%92%E8%A1%8C%E3%81%86%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 、フォントも日本語表示に適したものを指定します。

**日本語学習向けUI上の工夫**:
- 漢字には小さなかな文字でふりがな（ルビ）を表示します。React Native上でのルビ表示は標準サポートがないため、フレーズ表示用にカスタムコンポーネントを作成し、例えば漢字とふりがなを上下にレイアウトする方法で実装します（文字列を事前に分解し、Textを組み合わせるかSVGテキストを使う方法も検討できます）。Plan1の設計では、ふりがな付きテキスト整形用にユーティリティ関数`formatFurigana`を用意するとしています ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E2%94%82%20%20%20%E2%94%82%20,%E3%81%B5%E3%82%8A%E3%81%8C%E3%81%AA%E4%BB%98%E3%81%8D%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E8%A1%A8%E7%A4%BA%E6%95%B4%E5%BD%A2%E9%96%A2%E6%95%B0)) 
- フレーズや例文内の重要単語はハイライト表示し、タップ時にその意味をポップアップ表示することも可能です（モックでは必須ではありませんが、将来的なUX向上策として考慮）。
- 日本語テキストと翻訳テキストを色分けまたはレイアウト分離して表示し、視線で両者を行き来しやすくします。例えば日本語を上段、英訳を下段に配置したカードデザインにします。
- 長い文は意味の区切りごとにスペースや色で区切って表示します（「分ち書き」 ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E8%A8%AD%E8%A8%88%E3%81%AF%E8%A9%B3%E7%B4%B0%E3%81%AA%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E8%A8%AD%E8%A8%88%E3%81%A8%E3%80%81%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%BD%B9%E5%89%B2%E3%82%84%E8%B2%AC%E4%BB%BB%E3%81%A8%E5%AE%9F%E8%A3%85%E6%96%B9%E9%87%9D%E3%82%92%E6%98%8E%E8%A8%98%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AF%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E8%87%AA%E7%94%B1%E3%81%AB%E6%B1%BA%E3%82%81%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%20%E3%83%9E%E3%83%86%E3%83%AA%E3%82%A2%E3%83%AB%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%A7%E3%80%81%E3%81%9F%20%E3%81%A0%E3%81%97%E3%80%81%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E5%AD%A6%E7%BF%92%E3%81%AB%E9%81%A9%E3%81%97%E3%81%9FUIUX%EF%BC%88%E6%BC%A2%E5%AD%97%E3%81%AB%E3%81%AF%E3%81%B5%E3%82%8A%E3%81%8C%E3%81%AA%E3%80%81%E6%A7%8B%E6%96%87%E3%82%92%E5%88%86%E3%81%A1%E6%9B%B8%E3%81%8D%E3%81%97%E3%81%A6%E3%82%BB%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%94%E3%81%A8%E3%81%AB%E8%89%B2%E4%BB%98%E3%81%91%E3%80%81%E7%99%BA%E9%9F%B3%E3%82%92%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E8%A1%A8%E8%A8%98%E3%81%99%E3%82%8B%E3%81%AA%E3%81%A9%EF%BC%89%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AF%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82,%E3%83%A2%E3%83%83%E3%82%AF%E3%83%87%E3%83%BC%E3%82%BF%E3%81%A7%E3%81%99%E3%81%8C%E3%80%81README%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%ABJSON%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AF%E5%8F%82%E8%80%83%E3%81%A8%E3%81%97%E3%81%A4%E3%81%A4%E3%82%82%E4%B8%8A%E7%B4%9A%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A7%E3%81%82%E3%82%8B%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E7%8A%B6%E6%B3%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%80%81%E9%81%A9%E5%88%87%E3%81%AA%E5%BD%A2%E5%BC%8F%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%97%E3%81%A6%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E4%B8%BB%E8%A6%81%E7%94%BB%E9%9D%A2%E3%81%A8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%81%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%80%81%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AA%E3%81%A9%E3%81%AE%E7%94%BB%E9%9D%A2%E3%81%8C%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%A2%E3%83%83%E3%82%AF%E3%81%AA%E3%81%AE%E3%81%A7%E3%80%81%E8%AA%8D%E8%A8%BC%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E6%AE%B5%E9%9A%8E%E3%81%A7%E3%81%AF%E8%A8%80%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%AF%E6%97%A5%E6%9C%AC%E8%AA%9Eor%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%81%BF%E3%81%A8%E3%81%97%E3%80%81%20%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%81%AF%E6%AF%8D%E5%9B%BD%E8%AA%9E%E3%81%8C%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E6%83%B3%E5%AE%9A%E3%81%97%E3%81%A6%E3%80%81%E8%8B%B1%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E3%82%92%E8%A1%8C%E3%81%86%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 手法）。例えば「私は|公園へ|行きます。」のように区切り、各ブロックに異なる淡い背景色を付けるなど視覚的にグルーピングします。
- 発音記号やローマ字表記については、基本はひらがなの読みを表示しますが、ユーザーが希望すればローマ字表記に切り替えられるように設計しておきます（UIの言語設定が「英語」の場合、ふりがなの代わりにローマ字を出す設定などを検討）。

**ナビゲーション**にはReact Navigationを使用し、画面遷移は主にスタックナビゲーションで管理します。具体的な遷移フローは以下のようになります。

1. **ホーム画面**: アプリ起動時に表示される画面です。ここでレッスン一覧（例：「挨拶」「自己紹介」など）と、別モードへのメニュー（「スピードクイズ」「アウトプット練習」「マイフレーズリスト」等）を提示します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20HomeScreen.tsx%3A%20%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E4%B8%80%E8%A6%A7%E3%82%84%E5%AD%A6%E7%BF%92%E3%83%A2%E3%83%BC%E3%83%89%E9%81%B8%E6%8A%9E%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%E3%83%88%E3%83%83%E3%83%97%E7%94%BB%E9%9D%A2%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%8D%E3%80%8C%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%80%8D%E3%81%AA%E3%81%A9%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E9%81%B8%E3%81%B6%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%81%A8%E3%80%81%E5%90%84%20%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%84%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%99%E3%82%8B%E3%81%A8%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B%E7%94%BB%E9%9D%A2%E3%81%AB%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%83%88%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,PracticeScreen.tsx%3A%20%EF%BC%88%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%EF%BC%89%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E7%89%B9%E5%8C%96%E3%83%A2%E3%83%BC%E3%83%89%E7%AD%89%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E7%99%BA%E8%A9%B1%E7%B7%B4%E7%BF%92%E5%B0%82%E7%94%A8%E7%94%BB%E9%9D%A2%E3%80%82%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%9F%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E4%BC%9A%E8%A9%B1%E6%96%87%E3%81%AE%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%E3%82%92%E9%80%A3%E7%B6%9A%E3%81%97%E3%81%A6%E8%A1%8C)) ユーザーが項目を選ぶと対応する画面にナビゲートします。
2. **レッスン詳細画面**: ホームでレッスンを選択すると遷移します。レッスン内のミニレッスン一覧や説明、進捗バー（何%完了）が表示されます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) ミニレッスン（5～10フレーズ程度の塊）単位で開始できる場合はここでさらに選択させ、開始ボタンでフレーズ学習画面へ進みます。
3. **フレーズ学習画面**: 選択されたレッスンまたはミニレッスン内の各フレーズを順に学習する画面です ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=3.%20%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E5%AD%A6%E7%BF%92%E7%94%BB%E9%9D%A2%EF%BC%88%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%20,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) 画面上部にタブまたはセグメントとして「インプット」「アウトプット」を切り替えられるようにし、インプットタブでは日本語・訳・音声・例文を表示、アウトプットタブではマイクボタンとユーザー発話のリアルタイム評価結果（スコアや○×）を表示します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=3.%20%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E5%AD%A6%E7%BF%92%E7%94%BB%E9%9D%A2%EF%BC%88%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%20,%E6%AC%A1%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%B8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%B8%E9%80%B2%E3%82%80%E3%83%9C%E3%82%BF%E3%83%B3)) ユーザーが次のフレーズに進む操作（スワイプまたは「次へ」ボタン）をすると同じ画面内で別のフレーズ内容に更新するか、あるいは1フレーズ＝1ページとしてページネーションする実装も考えられます。モックでは実装簡易性を考え、縦スクロールで複数フレーズカードを並べ、各カード内で録音・再生・評価ができる方式とします（Plan1が提案する方式）。全フレーズを学習し終えると、画面下部に「クイズへ進む」ボタンを表示し、押下でクイズ画面へナビゲートします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%EF%BC%88%E6%84%8F%E5%91%B3%E3%83%BB%E9%9F%B3%E5%A3%B0%E3%81%AE%E7%A2%BA%E8%AA%8D%EF%BC%89%E3%81%A8%20%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%88%E7%99%BA%E8%A9%B1%E7%B7%B4%E7%BF%92%EF%BC%89%E3%81%AEUI%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,%E3%81%A7%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%97%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%EF%BC%89%E3%80%82)) 
4. **クイズ画面**: 出題中のフレーズ（または設問文）と選択肢一覧を表示します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%86UI%E3%81%A7%E3%80%81%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E2%86%92%E8%A9%95%E4%BE%A1%E3%81%AE%E3%82%B5%E3%82%A4%E3%82%AF%E3%83%AB%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%20,%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%88%90%E7%B8%BE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%82%E7%85%A7%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) ユーザーが選択肢をタップすると即座に正誤判定を行い、次の問題に進みます。問題数はレッスン内フレーズ数に応じて出すか、一律5問程度にするか検討します（モックでは数問のみ固定で出題）。全問終了後、自動的に結果画面へ遷移させます（もしくは「結果を見る」ボタンを表示）。
5. **結果画面**: クイズの点数・正答率を大きく表示し、必要に応じて各問題の正解とユーザーの回答を一覧できます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60%E3%82%92%E7%94%A8%E3%81%84%E3%80%81%E8%A1%A8%E7%A4%BA%E4%B8%8A%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC%E3%82%84%E9%80%B2%E6%8D%97%E3%83%90%E3%83%BC%E3%81%AA%E3%81%A9%E3%82%82%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%99%EF%BC%88%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E3%81%9F%E3%82%81%20%60FlatList%20%60%E3%81%A7%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%97%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%EF%BC%89%E3%80%82%20,%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%88%90%E7%B8%BE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%82%E7%85%A7%E3%81%97%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) 「ホームへ戻る」ボタンを設置し、タップでホーム画面（または該当レッスン画面）に戻ります。

別モードとして**スピードクイズ**や**アウトプット特化練習**を用意する場合、ホームからそれぞれ直接クイズ画面や練習画面に遷移します。例えばスピードクイズを選んだ場合は、全フレーズからランダムに問題を生成するクイズ画面が開きます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E8%8B%A6%E6%89%8B%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E3%83%94%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%80%81%E7%8B%AC%E8%87%AA%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%20%E2%86%92%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%82%BA%E3%82%92%E8%87%AA%E7%94%B1%E3%81%AB%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E5%86%8D%E5%AD%A6%E7%BF%92)) アウトプット特化を選んだ場合は、あらかじめ決めた練習用フレーズリストを使って連続して発話練習を行うPracticeScreenに遷移します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E8%8B%A6%E6%89%8B%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E3%83%94%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%80%81%E7%8B%AC%E8%87%AA%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%20%E2%86%92%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%82%BA%E3%82%92%E8%87%AA%E7%94%B1%E3%81%AB%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E5%86%8D%E5%AD%A6%E7%BF%92)) このようにモードによって遷移先や画面構成が多少異なりますが、React Navigationでパラメータ付きnavigateを使い、画面内でモードに応じた振る舞いをさせることで実現します。

**ナビゲーション実装**は`AppNavigator`で一元管理し、createNativeStackNavigatorやcreateBottomTabNavigatorを組み合わせます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20navigation%2F,app%20%C2%B7)) スタックの画面一覧としてHomeScreen, LessonScreen, PracticeScreen, QuizScreen, QuizResultScreenを登録します。必要ならHomeScreen自体をタブナビゲーションでラップし、他のモード画面（SpeedQuizScreen, OutputPracticeScreenなど）への導線をタブとして配置します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%60%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E2%86%92%E7%B5%90%E6%9E%9C%E3%82%92state%E6%9B%B4%E6%96%B0%E2%86%92UI%E5%8F%8D%E6%98%A0%E3%80%81%E3%81%A8%E3%81%84%E3%81%86%E4%B8%80%E9%80%A3%E3%81%AE%E6%B5%81%E3%82%8C%E3%82%92%E7%A2%BA%E7%AB%8B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%20,%E3%81%AA%E3%81%A9%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AB%E3%82%88%E3%82%8A%20%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AE%E4%B8%80%E8%B2%AB%E6%80%A7)) この構成により、主要フローはスタックで直線的に進みつつ、トップレベルでモード切替が容易になります。なお、React Navigation導入時には画面間で受け渡すパラメータ型（例：navigate時に渡すlessonIdなど）も定義し、Plan2の例のように`navigation/types.ts`にまとめて型エクスポートしておきます ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=%E2%94%9C%E2%94%80%E2%94%80%20navigation%2F%20%20%20,completed)) 

UI全般において、適宜**ローディング指標**や**アニメーション**も取り入れます。たとえばコンテンツ読込時や音声評価待ちの間、`ActivityIndicator`（ロード中ぐるぐる）や簡易なプログレスバーを表示してユーザーに処理中であることを示します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=functions%20simply%20read%20from%20local,which%20is%20a%20good%20practice))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=API%20calls.%20So%2C%20,we%20can)) ボタン操作後のフィードバックにはSnackbar（トースト通知）を使ったり、正解時に○、不正解時に×のアイコンを一瞬表示するなど演出も加えます（これらもReact Native Paperで実装可能です）。アニメーションは必要に応じて`LayoutAnimation`や`react-native-reanimated`を使い、たとえばスコアの数字が増えていく演出や、マイク録音中の波形アニメーションを実装します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%81%BE%E3%81%9F%E3%80%81%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E9%96%93%E3%81%A7%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%81%BF%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%80%81%E4%B8%8D%E8%A6%81%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%9F%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AF%E3%82%A2%E3%83%B3%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88%E3%81%97%E3%81%A6%E3%83%A1%E3%83%A2%E3%83%AA%E3%82%92%E8%A7%A3%E6%94%BE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E9%87%8D%E3%81%84%E5%87%A6%E7%90%86%EF%BC%88%E4%BE%8B%3A%20%E3%82%AF%E3%82%A4%E3%82%BA%E5%95%8F%E9%A1%8C%E3%81%AE%E7%94%9F%E6%88%90%E3%82%84%E3%82%B9%E3%82%B3%E3%82%A2%E8%A8%88%E7%AE%97%EF%BC%89%E3%81%AF%20,reanimated%20%60%E3%81%AA%E3%81%A9%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%83%8D%E3%82%A4%E3%83%86%E3%82%A3%E3%83%96%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%97%E3%80%81%E3%82%AB%E3%82%AF%E3%81%A4%E3%81%8D%E3%82%92%E9%98%B2%E3%81%8E%E3%81%BE%E3%81%99%E3%80%82)) ただしモック段階では凝りすぎず基本的な範囲に留め、UI応答性とわかりやすさを重視します。

最後に、UIテキストの**多言語対応**については、モックでは英語/日本語の切り替えのみ想定します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%E3%83%80%E3%83%BC%E3%82%AF%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AF%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E3%82%82%E8%87%AA%E7%94%B1%E3%81%AB%E6%B1%BA%E3%82%81%E3%81%A6%E8%89%AF%E3%81%84%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%A2%E3%83%83%E3%82%AF%E3%83%87%E3%83%BC%E3%82%BF%E3%81%A7%E3%81%99%E3%81%8C%E3%80%81README%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%ABJSON%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AF%E5%8F%82%E8%80%83%E3%81%A8%E3%81%97%E3%81%A4%E3%81%A4%E3%82%82%E4%B8%8A%E7%B4%9A%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A7%E3%81%82%E3%82%8B%E3%81%82%E3%81%AA%E3%81%9F%E3%81%8C%E7%8A%B6%E6%B3%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E3%80%81%E9%81%A9%E5%88%87%E3%81%AA%E5%BD%A2%E5%BC%8F%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%97%E3%81%A6%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E4%B8%BB%E8%A6%81%E7%94%BB%E9%9D%A2%E3%81%A8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%80%81%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%80%81%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AA%E3%81%A9%E3%81%AE%E7%94%BB%E9%9D%A2%E3%81%8C%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%A7%E3%81%99%E3%80%82%20%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%A2%E3%83%83%E3%82%AF%E3%81%AA%E3%81%AE%E3%81%A7%E3%80%81%E8%AA%8D%E8%A8%BC%E4%B8%8D%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82,%E3%83%A2%E3%83%83%E3%82%AF%E6%AE%B5%E9%9A%8E%E3%81%A7%E3%81%AF%E8%A8%80%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%AF%E6%97%A5%E6%9C%AC%E8%AA%9Eor%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%81%BF%E3%81%A8%E3%81%97%E3%80%81%20%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%81%AF%E6%AF%8D%E5%9B%BD%E8%AA%9E%E3%81%8C%E8%8B%B1%E8%AA%9E%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E6%83%B3%E5%AE%9A%E3%81%97%E3%81%A6%E3%80%81%E8%8B%B1%E8%AA%9E%E8%A8%AD%E5%AE%9A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E3%82%92%E8%A1%8C%E3%81%86%E3%83%87%E3%83%A2%E3%83%B3%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)) そこで、画面上の固定文言（ボタンのラベルや説明文など）は`assets/data/strings_en.json`と`strings_ja.json`のような辞書を用意し、ContextまたはReactの`useReducer`で現在の言語を管理して切り替えられる設計にします。デフォルトは英語表示とし、将来的には設定画面で言語変更できるよう拡張可能です ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%A8%E3%83%AC%E3%82%A4%E3%82%A2%E3%82%A6%E3%83%88%3A%20Expo%E6%A8%99%E6%BA%96%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%BC%E3%83%88%EF%BC%88%60StyleSheet.create%60%7D%E3%82%84%E3%80%81%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6CSS,app%20%C2%B7%20GitHub)) モックではハードコーディングで英語UIとしておきます）。

## 5. モックAPIの設計と実装

前述のサービス層でモックAPI機能を実装します。モックAPIは**本物のAPIと同じインターフェース**を持ちながら、内部で即座にローカルデータを返すスタブとして実装します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E3%81%AF%20%E9%9D%9E%E5%90%8C%E6%9C%9F%E9%96%A2%E6%95%B0%20%E3%81%A8%E3%81%97%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%80%81%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E3%81%A8%E5%90%8C%E3%81%98%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E3%82%92%E6%A8%A1%E5%80%A3%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%20,setTimeout%28res%2C%20500%29%29%3B%60%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BA%BA%E5%B7%A5%E7%9A%84%E3%81%AA%E9%81%85%E5%BB%B6%E3%82%92%E5%8A%A0%E3%81%88%E3%81%A6%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E8%BF%94%E3%81%99%E3%81%93%E3%81%A8%E3%82%82%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) 各サービス関数の具体的な設計について整理します。

- **コンテンツ取得API**: `getLessons()`や`getLessonContent(id)`といった関数で、ローカルのコンテンツJSONから必要なデータを取り出し返します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%BE%8C%E3%81%AE%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%A7%E3%81%AF%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E7%AF%84%E5%9B%B2%E3%81%8B%E3%82%89%E5%95%8F%E9%A1%8C%E3%82%92%E5%87%BA%E3%81%97%E3%80%81%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E3%81%AF%E5%85%A8%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8B%E3%82%89%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%20%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28%2067)) 例えば`getLessons()`は全レッスンの基本情報リスト（ID・タイトル・説明）を返し、ホーム画面でレッスン一覧を表示するのに使います。 ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%BE%8C%E3%81%AE%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%A7%E3%81%AF%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E7%AF%84%E5%9B%B2%E3%81%8B%E3%82%89%E5%95%8F%E9%A1%8C%E3%82%92%E5%87%BA%E3%81%97%E3%80%81%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E3%81%AF%E5%85%A8%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8B%E3%82%89%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%20%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28%2067)) getLessonContent(lessonId)`はそのレッスンに含まれるフレーズ詳細配列を返し、PracticeScreenで各フレーズを表示する際に利用します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9%E3%81%AE%E9%96%A2%E6%95%B0%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E3%81%9F%E3%81%A8%E3%81%88%E3%81%B0%E9%80%9A%E5%B8%B8%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%BE%8C%E3%81%AE%E3%82%AF%E3%82%A4%E3%82%BA%E3%81%A7%E3%81%AF%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%81%AE%E7%AF%84%E5%9B%B2%E3%81%8B%E3%82%89%E5%95%8F%E9%A1%8C%E3%82%92%E5%87%BA%E3%81%97%E3%80%81%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E3%81%AF%E5%85%A8%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8B%E3%82%89%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%20%E3%81%AB4%E6%8A%9E%E5%95%8F%E9%A1%8C%E3%82%92%E4%B8%80%E5%AE%9A%E6%95%B0%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%84%E3%81%BE%E3%81%99%20%28%2067)) Plan2では`contentService`内でcontent.jsonを同期的に読み込んでもよいとしていますが ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=server%20or%20database%20%28japanese,or%20similar%20while%20data%20is)) モックでもUX向上のため`await`可能にし、人工的に遅延を入れてローディングUIを確認できるようにします ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=functions%20simply%20read%20from%20local,which%20is%20a%20good%20practice)) なお、ContentContextを使う場合はアプリ起動時に全コンテンツを読み込んでContextで配信する方法もありますが、モックでは必要なときに読み込む方針で十分でしょう。

- **発音評価API**: `evaluatePronunciation(phraseId, audioData)`関数で、ユーザーの録音音声を評価します。本来ならクラウドAPIに音声データを送り結果を受け取りますが ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%2A%20%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98%E3%83%BB%E7%99%BA%E9%9F%B3%E8%A9%95%E4%BE%A1%EF%BC%9A%20Google%20Cloud%20Speech,Azure%20Cognitive%20Services%E3%80%81Amazon%20Transcribe%E3%81%AA%E3%81%A9%E3%81%AE%E5%88%A9%E7%94%A8%E3%82%92%E6%83%B3%E5%AE%9A%E3%80%82%20API%E3%81%8B%E3%82%89%E5%8F%97%E3%81%91%E5%8F%96%E3%81%A3%E3%81%9F%E6%96%87%E5%AD%97%E8%B5%B7%E3%81%93%E3%81%97%E7%B5%90%E6%9E%9C%E3%81%A8%E6%AD%A3%E8%A7%A3%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%AF%94%E8%BC%83%E3%81%97%E3%80%81%E3%82%A4%E3%83%B3%E3%83%88%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A9%95%E4%BE%A1%E3%82%84%E9%A1%9E%E4%BC%BC%E5%BA%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E7%AE%97%E5%87%BA%E3%80%82)) モックでは音声データは実際には処理せず、代わりに**事前に決めたダミー結果**を返します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=API%20calls.%20So%2C%20,we%20can))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=,time%20pronunciation%20evaluation)) 実装案として、phraseIdごとに固定のスコア・フィードバックを持たせておき返す、またはランダムでいくつかのメッセージから選ぶ方法があります ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E5%86%85%E3%81%AE%E5%85%A8%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E8%A9%B3%E7%B4%B0%E3%82%92%E8%BF%94%E3%81%99%E3%80%82%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%89%E3%81%93%E3%81%93%E3%81%A7%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%94%E3%81%A8%E3%81%AE%E9%9F%B3%E5%A3%B0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BA%8B%E5%89%8D%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E5%87%A6%E7%90%86%E3%82%82%E6%8C%9F%E3%81%BF%E3%81%BE%E3%81%99%E3%80%82%20,%E5%BC%95%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8A%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E5%88%A4%E5%AE%9A%E3%81%97%E3%80%81%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%BE%E3%81%99%E3%80%82lessonId%E3%81%8C%E3%81%82%E3%82%8C%E3%81%B0%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%8B%E3%82%89%E5%87%BA%E9%A1%8C%E3%81%97%E3%80%81%E3%81%AA%E3%81%91%E3%82%8C%E3%81%B0%E5%85%A8%E7%AF%84%E5%9B%B2%E3%83%BB%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E6%8C%87%E5%AE%9A%E3%81%AA%E3%81%A9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E5%87%BA%E9%A1%8C%E3%81%97%E3%81%BE%E3%81%99%20%28%2064))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E7%B5%90%E6%9E%9C%E3%82%92%E8%BF%94%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8BPhrase%E3%81%AB%E6%9C%9F%E5%BE%85%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8C%E3%81%82%E3%82%8B%E3%81%A8%E3%81%97%E3%81%A6%E3%80%81recordedAudio%E3%81%AF%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%81%AF%E4%BD%BF%E3%82%8F%E3%81%9A%E3%80%81%E5%B8%B8%E3%81%AB%E3%80%8C80%E7%82%B9%E3%83%BBGood%E3%80%8D%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%9B%BA%E5%AE%9A%E8%A9%95%E4%BE%A1%20%E3%82%92%E8%BF%94%E3%81%99%E3%81%8B%E3%80%81%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%A7%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B%E5%AE%9F%E8%A3%85%E3%81%A7%E3%81%99%20%28japanese,%E3%81%AA%E3%81%A9%E3%81%A8%E3%81%97%E3%80%81UI%E3%81%A7%E3%82%B9%E3%82%B3%E3%82%A2%E8%A1%A8%E7%A4%BA%E3%82%84%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E8%A1%A8%E7%A4%BA%E3%81%AB%E4%BD%BF%E3%81%84%E3%81%BE%E3%81%99%E3%80%82)) 例えば常に `{ score: 0.8, feedback: "Good pronunciation!" }` を返す簡易版でもよいですし、ランダムに0.6～0.9のスコアを発生させて閾値で「Great/Okay/Practice more」の3段階評価メッセージを返すなどゲーム性を持たせてもよいでしょう。ユーザーには録音後2秒程度で結果が画面に表示されるようにし、処理中は「評価中...」とインジケータを出します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=API%20calls.%20So%2C%20,we%20can)) こうした遅延もすべてクライアント内でタイマー実装することで再現します。評価結果はQuizと異なり即時反応が重要なので、UIにはスコアを○○/100や☆印で表現したり、問題箇所の音素を強調表示するなど工夫も可能ですが、モックではテキストメッセージ中心でシンプルに示します。

- **クイズ出題API**: `generateQuizQuestions(mode, lessonId?)`関数で、クイズ問題一覧を生成します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20%60generateQuizQuestions%28mode%2C%20lessonId%3F%29%60%3A%20%E5%BC%95%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8A%E3%82%AF%E3%82%A4%E3%82%BA%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E5%88%A4%E5%AE%9A%E3%81%97%E3%80%81%E5%95%8F%E9%A1%8C%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%BE%E3%81%99%E3%80%82lessonId%E3%81%8C%E3%81%82%E3%82%8C%E3%81%B0%E3%81%9D%E3%81%AE%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%8B%E3%82%89%E5%87%BA%E9%A1%8C%E3%81%97%E3%80%81%E3%81%AA%E3%81%91%E3%82%8C%E3%81%B0%E5%85%A8%E7%AF%84%E5%9B%B2%E3%83%BB%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E6%8C%87%E5%AE%9A%E3%81%AA%E3%81%A9%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E5%87%BA%E9%A1%8C%E3%81%97%E3%81%BE%E3%81%99%20%28japanese,%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AE%E8%AA%A4%E7%AD%94%E3%81%AF%E5%90%8C%E3%81%98JSON%E3%83%87%E3%83%BC%E3%82%BF%E5%86%85%E3%81%8B%E3%82%89%E9%A1%9E%E4%BC%BC%E3%81%AE%E6%84%8F%E5%91%B3%E3%82%92%E6%8C%81%E3%81%A4%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%E3%80%8D%E3%81%AE%E8%8B%B1%E8%A8%B3%E3%82%92%E5%95%8F%E3%81%86%E5%95%8F%E9%A1%8C%E3%81%AA%E3%82%89%E3%80%81%E6%AD%A3%E8%A7%A3%E3%80%8CHello%E3%80%8D%E3%81%AB%20%E5%AF%BE%E3%81%97%E3%80%81%E4%BB%96%E3%81%AE%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AF%E3%80%8CGoodbye%E3%80%8D%E3%80%8CThank%20you%E3%80%8D%E3%81%AA%E3%81%A9%E5%88%A5%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%A8%B3%E3%82%92%E6%B5%81%E7%94%A8%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%85%B7%E5%90%88%E3%81%A7%E3%81%99%E3%80%82)) 通常レッスン後クイズの場合はそのlessonIdを受け取り、該当フレーズから問題を作成します。一問一答の形式で、例えばフレーズの英訳を選択させる問題を基本としつつ、一部応用問題（適切な状況での表現選択など）も混ぜます ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1.%20%E3%82%AF%E3%82%A4%E3%82%BA%E5%BD%A2%E5%BC%8F%E3%81%AE%E5%A4%9A%E6%A7%98%E5%8C%96%20,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%97%E3%81%9F%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E5%87%BA%E9%A1%8C%203.%20%E3%82%AF%E3%82%A4%E3%82%BA%E7%B5%90%E6%9E%9C%E3%81%AE%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF)) スピードクイズモードの場合はlessonIdは渡さず、全フレーズからランダムに一定数ピックアップします ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=,%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E8%8B%A6%E6%89%8B%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%A0%E3%81%91%E3%82%92%E3%83%94%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%80%81%E7%8B%AC%E8%87%AA%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%20%E2%86%92%20%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%BB%E3%82%AF%E3%82%A4%E3%82%BA%E3%82%92%E8%87%AA%E7%94%B1%E3%81%AB%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%81%A6%E5%86%8D%E5%AD%A6%E7%BF%92)) 選択肢の生成では、正解以外の選択肢として**他のフレーズの訳**を利用することで誤答をそれらしく見せます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AE%E8%AA%A4%E7%AD%94%E3%81%AF%E5%90%8C%E3%81%98JSON%E3%83%87%E3%83%BC%E3%82%BF%E5%86%85%E3%81%8B%E3%82%89%E9%A1%9E%E4%BC%BC%E3%81%AE%E6%84%8F%E5%91%B3%E3%82%92%E6%8C%81%E3%81%A4%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%E3%80%8D%E3%81%AE%E8%8B%B1%E8%A8%B3%E3%82%92%E5%95%8F%E3%81%86%E5%95%8F%E9%A1%8C%E3%81%AA%E3%82%89%E3%80%81%E6%AD%A3%E8%A7%A3%E3%80%8CHello%E3%80%8D%E3%81%AB%20%E5%AF%BE%E3%81%97%E3%80%81%E4%BB%96%E3%81%AE%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AF%E3%80%8CGoodbye%E3%80%8D%E3%80%8CThank%20you%E3%80%8D%E3%81%AA%E3%81%A9%E5%88%A5%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%A8%B3%E3%82%92%E6%B5%81%E7%94%A8%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%85%B7%E5%90%88%E3%81%A7%E3%81%99%E3%80%82)) たとえば「こんにちは」の意味を問う問題なら正解「Hello」に対し、「Good morning」「Goodbye」「Thank you」等別のフレーズの訳を選択肢に入れるイメージです ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%28japanese,%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AE%E8%AA%A4%E7%AD%94%E3%81%AF%E5%90%8C%E3%81%98JSON%E3%83%87%E3%83%BC%E3%82%BF%E5%86%85%E3%81%8B%E3%82%89%E9%A1%9E%E4%BC%BC%E3%81%AE%E6%84%8F%E5%91%B3%E3%82%92%E6%8C%81%E3%81%A4%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%84%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%E4%BE%8B%E3%81%88%E3%81%B0%E3%80%8C%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%E3%80%8D%E3%81%AE%E8%8B%B1%E8%A8%B3%E3%82%92%E5%95%8F%E3%81%86%E5%95%8F%E9%A1%8C%E3%81%AA%E3%82%89%E3%80%81%E6%AD%A3%E8%A7%A3%E3%80%8CHello%E3%80%8D%E3%81%AB%20%E5%AF%BE%E3%81%97%E3%80%81%E4%BB%96%E3%81%AE%E9%81%B8%E6%8A%9E%E8%82%A2%E3%81%AF%E3%80%8CGoodbye%E3%80%8D%E3%80%8CThank%20you%E3%80%8D%E3%81%AA%E3%81%A9%E5%88%A5%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%81%AE%E8%A8%B3%E3%82%92%E6%B5%81%E7%94%A8%E3%81%99%E3%82%8B%E3%80%81%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E5%85%B7%E5%90%88%E3%81%A7%E3%81%99%E3%80%82))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=,If%20we%20want)) 問題文としては日本語を見て訳を選ぶ形式や、英語を見て適切な日本語フレーズを選ぶ形式など、モードに応じて出し分けます。**採点処理**もこのサービス内で行い、全問正解数からスコア計算（百分率等）します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=FriendlyTech,speechService.ts%3A%20%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%EF%BC%88%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%EF%BC%89%E3%81%AE%E8%A9%95%E4%BE%A1%E3%82%92%E8%A1%8C%E3%81%86%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%A7%E3%81%99%E3%80%82%E6%9C%AC%E6%9D%A5%E3%81%AF%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%81%AE%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98API%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%80%81%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E7%99%BA%E8%A9%B1%E9%9F%B3%E5%A3%B0%E3%82%92%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%8C%96%E3%83%BB%E8%A7%A3%E6%9E%90%E3%81%97%E3%81%A6%E3%82%B9%E3%82%B3%E3%82%A2%E3%82%92%E8%BF%94%E3%81%99%E3%81%A8%E3%81%93%E3%82%8D%E3%81%A7%E3%81%99%E3%81%8C)) 結果データはProgressContext経由で保存し、結果画面表示やホーム画面での進捗更新に使います。

- **その他のAPIモック**: 将来的にサーバー保存が必要なユーザー設定や履歴送信APIなどは、モックでは実装しません（必要に応じてProgressContextの状態をデバイスに保存するのみ）。音声再生についてはAPIではなくクライアント機能ですが、`AudioPlayer`コンポーネントや`audioUtils`において`expo-av`の機能をラップして使用します ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=,is%20not%20available%20in%20the))  ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=allowed.%20The%20,files%20to%20demonstrate%20the%20feature)) 音声ファイルはローカルにあるためストリーミングではなく即時再生でき、ネットワーク遅延はありません。再生時にファイルが見つからない場合のエラーハンドリング（例: try-catchで警告を出す）は一応入れておきます ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=audio%20files%20listed%20in%20,files%20to%20demonstrate%20the%20feature)) 

モックAPIは以上のように**スタブロジックは簡潔に**、しかし**インターフェースは実際のAPIを見据えて**設計します ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E8%A8%AD%E8%A8%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E9%87%8D%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%AF%E3%80%81%E5%AE%9F%E9%9A%9B%E3%81%AEAPI%E3%81%A8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E4%BA%92%E6%8F%9B%E6%80%A7%20%E3%81%A8%20%E7%B0%A1%E6%BD%94%E3%81%AA%E3%82%B9%E3%82%BF%E3%83%96%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%20%E3%81%A7%E3%81%99%E3%80%82%E5%89%8D%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E5%BE%8C%E3%81%A7%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E5%AE%9F%E8%A3%85%E3%81%AB%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%82%8B%E9%9A%9B%E3%82%82UI%20%E5%81%B4%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E5%A4%89%E6%9B%B4%E3%82%92%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82%E5%BE%8C%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E8%A4%87%E9%9B%91%E3%81%AA%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E9%81%BF%E3%81%91%E3%81%A6%E9%96%8B%E7%99%BA%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%92%E4%B8%8A%E3%81%92%E3%81%A4%E3%81%A4%E3%80%81%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E6%B5%81%E3%82%8C%E5%85%A8%E4%BD%93%E3%82%92%E6%A4%9C%E8%A8%BC%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) これにより後で本物のAPI実装に差し替える際、UI側の変更を最小限にとどめられます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%A2%E3%83%83%E3%82%AFAPI%E8%A8%AD%E8%A8%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E9%87%8D%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%AF%E3%80%81%E5%AE%9F%E9%9A%9B%E3%81%AEAPI%E3%81%A8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E4%BA%92%E6%8F%9B%E6%80%A7%20%E3%81%A8%20%E7%B0%A1%E6%BD%94%E3%81%AA%E3%82%B9%E3%82%BF%E3%83%96%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%20%E3%81%A7%E3%81%99%E3%80%82%E5%89%8D%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E5%BE%8C%E3%81%A7%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E5%AE%9F%E8%A3%85%E3%81%AB%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%82%8B%E9%9A%9B%E3%82%82UI%20%E5%81%B4%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E5%A4%89%E6%9B%B4%E3%82%92%E6%9C%80%E5%B0%8F%E9%99%90%E3%81%AB%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82%E5%BE%8C%E8%80%85%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81%E8%A4%87%E9%9B%91%E3%81%AA%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E9%81%BF%E3%81%91%E3%81%A6%E9%96%8B%E7%99%BA%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%82%92%E4%B8%8A%E3%81%92%E3%81%A4%E3%81%A4%E3%80%81%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E6%B5%81%E3%82%8C%E5%85%A8%E4%BD%93%E3%82%92%E6%A4%9C%E8%A8%BC%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)) また、モックで全機能をクライアント内でシミュレートすることで、オフライン環境でも一通りアプリのデモが可能です ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=japanese)) 

## 6. 機能実装方針と開発計画

最後に、上記設計に基づく**実装方針と段取り**を示します。モックプロトタイプ開発では、まず**コアとなる学習フロー**を優先し、順次機能を拡充していくアプローチを取ります ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1,%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E3%80%8C%E3%81%A9%E3%81%86%E3%81%97%E3%81%A6%E3%82%82%E8%A6%9A%E3%81%88%E3%82%89%E3%82%8C%E3%81%AA%E3%81%84%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%80%8D%E3%82%92%E3%81%8A%E6%B0%97%E3%81%AB%E5%85%A5%E3%82%8A%E3%83%AA%E3%82%B9%E3%83%88%E3%81%B8%E7%99%BB%E9%8C%B2%E3%81%97%E3%80%81%E5%BE%8C%E3%81%A7%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E9%87%8D%E7%82%B9%E7%9A%84%E3%81%AB%E5%AD%A6%E7%BF%92)) 具体的な開発手順を以下にまとめます。

1. **プロジェクト初期設定**: Expoの最新バージョンでプロジェクトを作成します（TypeScriptテンプレート使用）。依存ライブラリとしてReact NavigationやReact Native Paper、expo-avなどを追加し、動作環境を整えます。`App.tsx`でNavigationContainerをセットアップし、空の画面を表示できる状態を確認します。

2. **ディレクトリ構成の準備**: 上述のフォルダ構成に従い、`src/`配下に必要なディレクトリとファイルを作成します（空のコンポーネントやサービス関数の雛形を用意） ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%AF%E9%96%A2%E5%BF%83%E3%81%94%E3%81%A8%E3%81%AB%E6%95%B4%E7%90%86%E3%81%97%E3%80%81%E5%90%84%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E6%98%8E%E7%A2%BA%E3%81%AA%E8%B2%AC%E5%8B%99%E3%82%92%E6%8C%81%E3%81%9F%E3%81%9B%E3%81%BE%E3%81%99%E3%80%82%E4%B8%BB%E3%81%AA%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AF%20)) TypeScriptのパスエイリアス（module resolver）も設定し、`import`パスを簡潔にします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,React%20Native%20%2F%20Expo%20Starter)) ESLintやPrettierの設定も加え、コーディング規約を統一します。

3. **モックデータ実装**: `assets/data/content.json` を作成し、サンプルとなるレッスン・フレーズ・クイズデータを記述します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%7B%20,audio%2Fikimasu.mp3))  ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=%7D%2C%20%7B%20,audio%2Fwatashi_wa_kouen_e_ikimasu.mp3)) 最初は少数のフレーズ（例：「おはよう」「こんにちは」など挨拶5件程度）で十分です。対応する音声ファイル（ダミー音声でも可）を`assets/audio`に配置します。正しくインポートできるか確認します。

4. **サービス層（モックAPI）の実装**: `contentService.ts`から着手し、content.jsonを読み込んでデータを返す関数を実装します（まず同期的にreturnし、後でasyncに変更）。次に`quizService.ts`で固定のクイズ問を返すようにし、`speechService.ts`で固定スコアを返すevaluate関数を作ります。それぞれコンソールで戻り値を確認し、型定義とも突き合わせて不備がないかチェックします ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=,%E3%81%AA%E3%81%A9)) この段階では仮のデータでもよいので、UI実装前にサービスが使える状態にします。

5. **画面コンポーネントの実装**: まず`HomeScreen`を実装し、`getLessons()`で取得したレッスン一覧をFlatListで表示します。各レッスン項目をタップすると`navigation.navigate('LessonScreen', { lessonId: ... })`するようにします。`LessonScreen`では受け取ったlessonIdを使い`getLessonContent()`でフレーズリストを取得し、仮にテキスト一覧を表示します。ここまで一度動作確認し、ナビゲーションでデータ受け渡しができているか検証します。

6. **フレーズ学習UIの実装**: `PhraseCard`コンポーネントを作り、フレーズ日本語・ふりがな・訳・音声ボタン・マイクボタンを含むカードをデザインします ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=%E2%94%94%E2%94%80%E2%94%80%20src%2F%20%20%20,for%20output)) PaperのCardやButtonを活用しつつ、ふりがな表示などカスタムな部分は自前で実装します。`LessonScreen`上でFlatListのrenderItemとしてPhraseCardを用い、全フレーズをカード表示します。まずはインプット情報（テキスト・訳・再生ボタン）だけ表示し、アウトプット部分（マイクボタン等）はUIだけ配置しておきます。音声再生ボタンは押下で`Audio.Sound`を再生する処理を組み込みます（expo-avを使用）。マイクボタン押下時の処理も用意し、現状は即座にdummy評価結果を得てStateに保存、カード上に結果テキストを表示するようにします。録音自体はひとまず省略し、ボタン押しで擬似結果が出るようにするとスムーズです。

7. **クイズ画面の実装**: `QuizScreen`を作成し、navigationパラメータからモードやlessonIdを受け取って`generateQuizQuestions()`を呼び出し、問題リストをStateに保持します。1問ずつ表示するUIを構築し、`QuizOption`コンポーネントで選択肢ボタンを並べます ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=A,%E7%99%BA%E9%9F%B3%E7%B7%B4%E7%BF%92%E7%94%BB%E9%9D%A2%EF%BC%88%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%2F%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E7%B5%B1%E5%90%88%EF%BC%89))  ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E2%94%94%E2%94%80%E2%94%80%20quiz%2F%20%20%20,%E3%82%AF%E3%82%A4%E3%82%BA%E7%B5%90%E6%9E%9C%E7%94%BB%E9%9D%A2%EF%BC%88%E3%82%B9%E3%82%B3%E3%82%A2%E8%A1%A8%E7%A4%BA%E3%81%AA%E3%81%A9%EF%BC%89)) ユーザーが選択したらStateに回答を記録し、次の問題を表示します。全問終了時に`navigation.replace('QuizResultScreen', { result: ... })`で結果画面に遷移します。問題読み込み中はActivityIndicatorを表示し、回答後は○×を一瞬表示するなどのフィードバックも追加します。

8. **結果画面と進捗管理**: `QuizResultScreen`でスコアや正答数を表示し、必要ならProgressContextに結果を保存します。ホーム画面に戻った際に、完了したレッスンにチェックマークを付けたり、スコアを表示したりできます（モックでは簡易実装として「完了」表示のみでもOK）。またユーザーがお気に入り登録できるUI（ハートアイコンなど）をPhraseCardに用意し、押下でProgressContextのfavoritesリストに追加→CustomListScreenで表示、という機能も時間が許せば実装します。

9. **発音練習機能の仕上げ**: マイク録音と音声解析の流れをよりリアルにします。Expoの`Audio.Recording`を使って実際に録音し、2秒程度録音→停止→`speechService.evaluatePronunciation()`を呼ぶ処理を組み込みます。録音中はUIに波形や録音タイマーを表示すると雰囲気が出ます（簡単のため録音中はマイクアイコンを点滅させる程度でも可）。録音結果自体は破棄しますが、音声波形データから音量レベルを取得して波形アニメーションに反映することも可能です（余裕があれば検討）。結果表示は既に実装済みのスコア/フィードバック表示を活用します。こうしてユーザーが実際に声を出して練習する体験を再現します。

10. **仕上げと検証**: 全画面のスタイルを調整し、特にレイアウト崩れや文字切れがないかチェックします。スマートフォン実機（またはエミュレータ）で英語UIとして表示し、日本語フォントやふりがなが見やすいか確認します。必要に応じてスタイルシートを調整し、レスポンシブ対応（小型端末でも要素が収まるようスクロール調整など）も行います ([japanese-app/PLAN2.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN2.md#:~:text=3)) また、典型的な利用シナリオに沿って総合テストをします。例えば「ホーム画面で挨拶レッスンを選択→5つのフレーズを順に学習し発音練習→レッスンクイズに解答→結果確認→ホームに戻る→スピードクイズを実施して復習」という一連の流れが問題なく実行できるか検証します ([GitHub - FriendlyTech-Inc/japanese-app](https://github.com/FriendlyTech-Inc/japanese-app#:~:text=1,%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%8C%E3%80%8C%E3%81%A9%E3%81%86%E3%81%97%E3%81%A6%E3%82%82%E8%A6%9A%E3%81%88%E3%82%89%E3%82%8C%E3%81%AA%E3%81%84%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E3%80%8D%E3%82%92%E3%81%8A%E6%B0%97%E3%81%AB%E5%85%A5%E3%82%8A%E3%83%AA%E3%82%B9%E3%83%88%E3%81%B8%E7%99%BB%E9%8C%B2%E3%81%97%E3%80%81%E5%BE%8C%E3%81%A7%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%9F%E3%83%8B%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E9%87%8D%E7%82%B9%E7%9A%84%E3%81%AB%E5%AD%A6%E7%BF%92)) 問題があれば修正し、モックプロトタイプとして完成させます。

以上の計画に従い実装を進めることで、要求された日本語学習アプリの主要機能を備えたモックプロトタイプが完成します。最終成果物は、UI/UX面でも日本語学習に配慮された使いやすいアプリとなり、音声認識やクイズ機能もモックながら一通り体験可能なものになります ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%2A%20UX%E3%81%A8%E6%A9%9F%E8%83%BD%E6%8B%A1%E5%BC%B5%E6%80%A7%3A%20%E3%83%A2%E3%83%83%E3%82%AF%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A8%E3%81%AF%E3%81%84%E3%81%88%E3%80%81%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A0%E3%81%91%E5%AE%9F%E9%9A%9B%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E4%BD%93%E9%A8%93%E3%81%AB%E8%BF%91%E3%81%A5%E3%81%91%E3%81%BE%E3%81%99%E3%80%82%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E9%81%85%E5%BB%B6%E3%82%84%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%80%81%E3%83%88%E3%83%BC%E3%82%B9%E3%83%88%E9%80%9A%E7%9F%A5%E3%81%AA%E3%81%A9%E7%B4%B0%E9%83%A8%E3%82%82%E4%BD%9C%E3%82%8A%E8%BE%BC%E3%81%BF%E3%81%BE%E3%81%99%20%E3%80%82%E3%81%BE%E3%81%9F%E3%80%81%E5%B0%86%E6%9D%A5%E7%9A%84%E3%81%AA%E6%A9%9F%E8%83%BD%E8%BF%BD%E5%8A%A0%EF%BC%88%E4%BE%8B%E3%81%88%E3%81%B0AI%E3%81%AB%E3%82%88%E3%82%8B%E5%AD%A6%E7%BF%92%E8%80%85%E3%81%B8%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%82%BA%E6%8E%A8%E8%96%A6%E3%82%84%E4%BB%96%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%A8%E3%81%AE%E9%80%B2%E6%8D%97%E5%85%B1%E6%9C%89%20%28japanese,75%29%20%E3%82%88%E3%82%8A%E3%80%81%E6%96%B0%E3%81%97%E3%81%84%E5%AD%A6%E7%BF%92%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%82%82%E5%AE%B9%E6%98%93%E3%81%A7%E3%80%81%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%81%8B%E3%82%89%E6%9C%AC%E5%AE%9F%E8%A3%85%E3%81%B8%E3%81%AE%E7%99%BA%E5%B1%95%E3%82%82%E3%82%B9%E3%83%A0%E3%83%BC%E3%82%BA%E3%81%A7%E3%81%99%E3%80%82)) ディレクトリ構成の明確さとコンポーネント指向の設計により、将来的な機能追加や本物のAPI接続への移行もスムーズに行えるよう配慮しています ([japanese-app/PLAN1.md at main · FriendlyTech-Inc/japanese-app · GitHub](https://github.com/FriendlyTech-Inc/japanese-app/blob/main/PLAN1.md#:~:text=%E4%BB%A5%E4%B8%8A%E3%81%AE%E8%A8%AD%E8%A8%88%E3%81%AB%E3%82%88%E3%82%8A%E3%80%81Expo%20%2B%20TypeScript%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AD%A6%E7%BF%92%E3%83%A2%E3%83%83%E3%82%AF%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AF%E3%80%81%E8%A6%81%E4%BB%B6%E3%82%92%E6%BA%80%E3%81%9F%E3%81%97%E3%81%A4%E3%81%A4%E9%AB%98%E5%93%81%E8%B3%AA%E3%81%AA%E3%82%B3%E3%83%BC%E3%83%89%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A8%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%A8%E8%B2%AC%E5%8B%99%E5%88%86%E9%9B%A2%20%E3%81%AB%E3%82%88%E3%82%8A%E9%96%8B%E7%99%BA%E3%83%81%E3%83%BC%E3%83%A0%E3%81%A7%E3%81%AE%E5%8D%94%E6%A5%AD%E3%82%82%E3%81%97%E3%82%84%E3%81%99%E3%81%8F%E3%80%81%E5%B0%86%E6%9D%A5%E7%9A%84%E3%81%AA%E6%A9%9F%E8%83%BD%E6%8B%A1%E5%BC%B5%E3%82%84%E6%9C%AC%E7%89%A9%E3%81%AEAPI%E6%8E%A5%E7%B6%9A%E3%81%B8%E3%81%AE%E7%A7%BB%E8%A1%8C%E3%82%82%E3%82%B9%E3%83%A0%E3%83%BC%E3%82%BA%E3%81%AB%E8%A1%8C%E3%81%88%E3%82%8B%E3%82%88%E3%81%86%E9%85%8D%E6%85%AE%E3%81%97%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E5%90%84%E7%A8%AE%E3%83%99%E3%82%B9%E3%83%88%E3%83%97%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%82%B9%E3%82%92%E8%B8%8F%E8%A5%B2%E3%81%97%E3%81%9F%E3%81%93%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%20%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%AD%E8%A8%88%E3%82%92%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E3%80%81%E5%AE%9F%E8%A3%85%E3%82%92%E9%80%B2%E3%82%81%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82,L518%E3%80%97)) これにより、プロトタイプ段階で得た知見を元に本開発へ移行しやすい土台が構築できるでしょう。
